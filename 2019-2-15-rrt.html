<html>
<head>
	
	<!-- hexo-inject:begin --><!-- hexo-inject:end --><title>RRTè·¯å¾„è§„åˆ’ç®—æ³•</title>
	<meta name="keywords" content="fzb.me,å†¯å®—å®,å†¯å®—å®çš„blog" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
	   <link href="/css/main.css?v=3" rel="stylesheet" type="text/css" />
    
        <script src="/js/util.js"></script>
        <script>
            if(isMobile()) {
                loadjscssfile('../css/mobile.css', 'css');
            } else {
                loadjscssfile('../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/rocket_128px_1215034_easyicon.net.ico?v=3"/><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</head>

<body>


<!-- hexo-inject:begin --><!-- hexo-inject:end --><h2 class="title">RRTè·¯å¾„è§„åˆ’ç®—æ³•</h2>
<!---
<div style="text-align:center;margin-top: -10px;">
<div class="article-category">
å‘è¡¨äº2019å¹´2æœˆ15æ—¥




 </div>
--->
</div>


<blockquote>
<p>æœ¬æ–‡ä¸»è¦å¼•ç”¨äº†åšå®¢å›­ï¼ˆid:XXXå·²å¤±è”ï¼‰çš„ä»¥RRTï¼ˆå¿«é€ŸæŸ¥æ‰¾éšæœºæ ‘ï¼‰æ–‡ç« ï¼Œå‚è€ƒ<a href="https://www.cnblogs.com/21207-iHome/p/7210543.html" target="_blank" rel="noopener">é“¾æ¥</a></p>
</blockquote>
<p>ä¼ ç»Ÿçš„è·¯å¾„è§„åˆ’ç®—æ³•æœ‰äººå·¥åŠ¿åœºæ³•ã€æ¨¡ç³Šè§„åˆ™æ³•ã€é—ä¼ ç®—æ³•ã€ç¥ç»ç½‘ç»œã€æ¨¡æ‹Ÿé€€ç«ç®—æ³•ã€èšç¾¤ä¼˜åŒ–ç®—æ³•ç­‰ã€‚ä½†è¿™äº›æ–¹æ³•éƒ½éœ€è¦åœ¨ä¸€ä¸ªç¡®å®šçš„ç©ºé—´å†…å¯¹éšœç¢ç‰©è¿›è¡Œå»ºæ¨¡ï¼Œè®¡ç®—å¤æ‚åº¦ä¸æœºå™¨äººè‡ªç”±åº¦å‘ˆæŒ‡æ•°å…³ç³»ï¼Œä¸é€‚åˆè§£å†³å¤šè‡ªç”±åº¦æœºå™¨äººåœ¨å¤æ‚ç¯å¢ƒä¸­çš„è§„åˆ’ã€‚åŸºäºå¿«é€Ÿæ‰©å±•éšæœºæ ‘ï¼ˆRRT / rapidly exploring random treeï¼‰çš„è·¯å¾„è§„åˆ’ç®—æ³•ï¼Œé€šè¿‡å¯¹çŠ¶æ€ç©ºé—´ä¸­çš„é‡‡æ ·ç‚¹è¿›è¡Œç¢°æ’æ£€æµ‹ï¼Œé¿å…äº†å¯¹ç©ºé—´çš„å»ºæ¨¡ï¼Œèƒ½å¤Ÿæœ‰æ•ˆåœ°è§£å†³é«˜ç»´ç©ºé—´å’Œå¤æ‚çº¦æŸçš„è·¯å¾„è§„åˆ’é—®é¢˜ã€‚è¯¥æ–¹æ³•çš„ç‰¹ç‚¹æ˜¯èƒ½å¤Ÿå¿«é€Ÿæœ‰æ•ˆåœ°æœç´¢é«˜ç»´ç©ºé—´ï¼Œé€šè¿‡çŠ¶æ€ç©ºé—´çš„éšæœºé‡‡æ ·ç‚¹ï¼ŒæŠŠæœç´¢å¯¼å‘ç©ºç™½åŒºåŸŸï¼Œä»è€Œå¯»æ‰¾åˆ°ä¸€æ¡ä»èµ·å§‹ç‚¹åˆ°ç›®æ ‡ç‚¹çš„è§„åˆ’è·¯å¾„ï¼Œé€‚åˆè§£å†³å¤šè‡ªç”±åº¦æœºå™¨äººåœ¨å¤æ‚ç¯å¢ƒä¸‹å’ŒåŠ¨æ€ç¯å¢ƒä¸­çš„è·¯å¾„è§„åˆ’ã€‚ä¸PRMç±»ä¼¼ï¼Œè¯¥æ–¹æ³•æ˜¯æ¦‚ç‡å®Œå¤‡ä¸”ä¸æœ€ä¼˜çš„ã€‚</p>
<p><img src="https://wx2.sinaimg.cn/mw690/4b1ff580ly1g075efn2gag20br09yx6p.gif"></p>
<p>RRTæ˜¯ä¸€ç§å¤šç»´ç©ºé—´ä¸­æœ‰æ•ˆç‡çš„è§„åˆ’æ–¹æ³•ã€‚å®ƒä»¥ä¸€ä¸ªåˆå§‹ç‚¹ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œé€šè¿‡éšæœºé‡‡æ ·å¢åŠ å¶å­èŠ‚ç‚¹çš„æ–¹å¼ï¼Œç”Ÿæˆä¸€ä¸ªéšæœºæ‰©å±•æ ‘ï¼Œå½“éšæœºæ ‘ä¸­çš„å¶å­èŠ‚ç‚¹åŒ…å«äº†ç›®æ ‡ç‚¹æˆ–è¿›å…¥äº†ç›®æ ‡åŒºåŸŸï¼Œä¾¿å¯ä»¥åœ¨éšæœºæ ‘ä¸­æ‰¾åˆ°ä¸€æ¡ç”±ä»åˆå§‹ç‚¹åˆ°ç›®æ ‡ç‚¹çš„è·¯å¾„ã€‚åŸºæœ¬RRTç®—æ³•å¦‚ä¸‹é¢ä¼ªä»£ç æ‰€ç¤ºï¼š<br><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function">function <span class="title">BuildRRT</span><span class="params">(qinit, K, Î”q)</span></span></span><br><span class="line">    T.init(qinit)</span><br><span class="line">    <span class="keyword">for</span> k = <span class="number">1</span> to K</span><br><span class="line">        qrand = Sample()  -- chooses a random configuration</span><br><span class="line">        qnearest = Nearest(T, qrand) -- selects the node in the RRT tree that is closest to qrand</span><br><span class="line">        <span class="keyword">if</span>  Distance(qnearest, qgoal) &lt; Threshold then</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        qnew = Extend(qnearest, qrand, Î”q)  -- moving from qnearest an incremental distance in the direction of qrand</span><br><span class="line">        <span class="keyword">if</span> qnew â‰  <span class="literal">NULL</span> then</span><br><span class="line">            T.AddNode(qnew)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function Sample() -- Alternatively,one could replace Sample with SampleFree(by <span class="keyword">using</span> a collision detection algorithm to reject samples in C_obstacle</span><br><span class="line">    p = Random(<span class="number">0</span>, <span class="number">1.0</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="number">0</span> &lt; p &lt; Prob then</span><br><span class="line">        <span class="keyword">return</span> qgoal</span><br><span class="line">    elseif Prob &lt; p &lt; <span class="number">1.0</span> then</span><br><span class="line">        <span class="keyword">return</span> RandomNode()</span><br></pre></td></tr></table></figure></p>
<p>åˆå§‹åŒ–æ—¶éšæœºæ ‘TåªåŒ…å«ä¸€ä¸ªèŠ‚ç‚¹ï¼šæ ¹èŠ‚ç‚¹qinitã€‚é¦–å…ˆSampleå‡½æ•°ä»çŠ¶æ€ç©ºé—´ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªé‡‡æ ·ç‚¹qrandï¼ˆ4è¡Œï¼‰ï¼›ç„¶åNearestå‡½æ•°ä»éšæœºæ ‘ä¸­é€‰æ‹©ä¸€ä¸ªè·ç¦»qrandæœ€è¿‘çš„èŠ‚ç‚¹qnearestï¼ˆ5è¡Œï¼‰ï¼›æœ€åExtendå‡½æ•°é€šè¿‡ä»qnearestå‘qrandæ‰©å±•ä¸€æ®µè·ç¦»ï¼Œå¾—åˆ°ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹qnewï¼ˆ8è¡Œï¼‰ã€‚å¦‚æœqnewä¸éšœç¢ç‰©å‘ç”Ÿç¢°æ’ï¼Œåˆ™Extendå‡½æ•°è¿”å›ç©ºï¼Œæ”¾å¼ƒè¿™æ¬¡ç”Ÿé•¿ï¼Œå¦åˆ™å°†qnewåŠ å…¥åˆ°éšæœºæ ‘ä¸­ã€‚é‡å¤ä¸Šè¿°æ­¥éª¤ç›´åˆ°qnearestå’Œç›®æ ‡ç‚¹qgaolè·ç¦»å°äºä¸€ä¸ªé˜ˆå€¼ï¼Œåˆ™ä»£è¡¨éšæœºæ ‘åˆ°è¾¾äº†ç›®æ ‡ç‚¹ï¼Œç®—æ³•è¿”å›æˆåŠŸï¼ˆ6~7è¡Œï¼‰ã€‚ä¸ºäº†ä½¿ç®—æ³•å¯æ§ï¼Œå¯ä»¥è®¾å®šè¿è¡Œæ—¶é—´ä¸Šé™æˆ–æœç´¢æ¬¡æ•°ä¸Šé™ï¼ˆ3è¡Œï¼‰ã€‚å¦‚æœåœ¨é™åˆ¶æ¬¡æ•°å†…æ— æ³•åˆ°è¾¾ç›®æ ‡ç‚¹ï¼Œåˆ™ç®—æ³•è¿”å›å¤±è´¥ã€‚</p>
<p>ä¸ºäº†åŠ å¿«éšæœºæ ‘åˆ°è¾¾ç›®æ ‡ç‚¹çš„é€Ÿåº¦ï¼Œç®€å•çš„æ”¹è¿›æ–¹æ³•æ˜¯ï¼šåœ¨éšæœºæ ‘æ¯æ¬¡çš„ç”Ÿé•¿è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®éšæœºæ¦‚ç‡æ¥å†³å®šqrandæ˜¯ç›®æ ‡ç‚¹è¿˜æ˜¯éšæœºç‚¹ã€‚åœ¨Sampleå‡½æ•°ä¸­è®¾å®šå‚æ•°Probï¼Œæ¯æ¬¡å¾—åˆ°ä¸€ä¸ª0åˆ°1.0çš„éšæœºå€¼pï¼Œå½“0&lt;p&lt;Probçš„æ—¶å€™ï¼Œéšæœºæ ‘æœç›®æ ‡ç‚¹ç”Ÿé•¿è¡Œï¼›å½“Prob&lt;p&lt;1.0æ—¶ï¼Œéšæœºæ ‘æœä¸€ä¸ªéšæœºæ–¹å‘ç”Ÿé•¿ã€‚</p>
<p>ä¸Šè¿°ç®—æ³•çš„æ•ˆæœæ˜¯éšæœºé‡‡æ ·ç‚¹ä¼šâ€œæ‹‰ç€â€æ ‘å‘å¤–ç”Ÿé•¿ï¼Œè¿™æ ·èƒ½æ›´å¿«ã€æ›´æœ‰æ•ˆåœ°æ¢ç´¢ç©ºé—´ï¼ˆThe effect is that the nearly uniformly distributed samples â€œpullâ€ the tree toward them, causing the tree to rapidly explore C-Spaceï¼‰ã€‚éšæœºæ¢ç´¢ä¹Ÿè®²ç©¶ç­–ç•¥ï¼Œå¦‚æœæˆ‘ä»¬ä»æ ‘ä¸­éšæœºå–ä¸€ä¸ªç‚¹ï¼Œç„¶åå‘ç€éšæœºçš„æ–¹å‘ç”Ÿé•¿ï¼Œé‚£ä¹ˆç»“æœæ˜¯ä»€ä¹ˆæ ·çš„å‘¢ï¼Ÿè§ä¸‹å›¾ï¼ˆLeft: A tree generated by applying a uniformly-distributed random motion from a randomly chosen tree node does not explore very far. Right: A tree generated by the RRT algorithm using samples drawn randomly from a uniform distribution. Both trees have 2000 nodes ï¼‰ã€‚å¯ä»¥çœ‹åˆ°ï¼ŒåŒæ ·æ˜¯éšæœºæ ‘ï¼Œä½†æ˜¯è¿™æ£µæ ‘å¹¶æ²¡å¾ˆå¥½åœ°æ¢ç´¢ç©ºé—´ã€‚</p>
<p><img src="https://wx1.sinaimg.cn/mw690/4b1ff580ly1g074hpy7w9j20d506o405.jpg"></p>
<p>æ ¹æ®ä¸Šé¢çš„ä¼ªä»£ç ï¼Œå¯ä»¥ç”¨MATLABå®ç°ä¸€ä¸ªç®€å•çš„RRTè·¯å¾„è§„åˆ’ï¼ˆå‚è€ƒè¿™é‡Œï¼‰ã€‚è¾“å…¥ä¸€å¹…åƒç´ å°ºå¯¸ä¸º500Ã—500çš„åœ°å›¾ï¼Œä½¿ç”¨RRTç®—æ³•æœç´¢å‡ºä¸€æ¡æ— ç¢°æ’è·¯å¾„ï¼š<br><figure class="highlight m"><table><tr><td class="code"><pre><span class="line"><span class="comment">%% RRT parameters</span></span><br><span class="line">map<span class="built_in">=</span>im2bw(imread(<span class="string">'map1.bmp'</span>)); <span class="comment">% input map read from a bmp file. for new maps write the file name here</span></span><br><span class="line">source<span class="built_in">=</span>[<span class="number">10</span> <span class="number">10</span>]; <span class="comment">% source position in Y, X format</span></span><br><span class="line">goal<span class="built_in">=</span>[<span class="number">490</span> <span class="number">490</span>]; <span class="comment">% goal position in Y, X format</span></span><br><span class="line">stepsize <span class="built_in">=</span> <span class="number">20</span>;  <span class="comment">% size of each step of the RRT</span></span><br><span class="line">threshold <span class="built_in">=</span> <span class="number">20</span>; <span class="comment">% nodes closer than this threshold are taken as almost the same</span></span><br><span class="line">maxFailedAttempts <span class="built_in">=</span> <span class="number">10000</span>;</span><br><span class="line">display <span class="built_in">=</span> <span class="built_in">true</span>; <span class="comment">% display of RRT</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">if</span> ~feasiblePoint(source,map), error(<span class="string">'source lies on an obstacle or outside map'</span>); end</span><br><span class="line"><span class="built_in">if</span> ~feasiblePoint(goal,map), error(<span class="string">'goal lies on an obstacle or outside map'</span>); end</span><br><span class="line"><span class="built_in">if</span> display,imshow(map);rectangle(<span class="string">'position'</span>,[<span class="number">1</span> <span class="number">1</span> size(map)-<span class="number">1</span>],<span class="string">'edgecolor'</span>,<span class="string">'k'</span>); end</span><br><span class="line"></span><br><span class="line">tic;  <span class="comment">% tic-toc: Functions for Elapsed Time</span></span><br><span class="line"></span><br><span class="line">RRTree <span class="built_in">=</span> double([source -<span class="number">1</span>]); <span class="comment">% RRT rooted at the source, representation node and parent index</span></span><br><span class="line">failedAttempts <span class="built_in">=</span> <span class="number">0</span>;</span><br><span class="line">counter <span class="built_in">=</span> <span class="number">0</span>;</span><br><span class="line">pathFound <span class="built_in">=</span> <span class="built_in">false</span>;</span><br><span class="line"></span><br><span class="line">while failedAttempts <span class="built_in">&lt;=</span> maxFailedAttempts  <span class="comment">% loop to grow RRTs</span></span><br><span class="line">ã€€ã€€<span class="comment">%% chooses a random configuration</span></span><br><span class="line">    <span class="built_in">if</span> rand &lt; <span class="number">0.5</span></span><br><span class="line">        sample <span class="built_in">=</span> rand(<span class="number">1</span>,<span class="number">2</span>) .* size(map);   <span class="comment">% random sample</span></span><br><span class="line">    <span class="built_in">else</span></span><br><span class="line">        sample <span class="built_in">=</span> goal; <span class="comment">% sample taken as goal to bias tree generation to goal</span></span><br><span class="line">    end</span><br><span class="line">    </span><br><span class="line">ã€€ã€€<span class="comment">%% selects the node in the RRT tree that is closest to qrand</span></span><br><span class="line">    [A, I] <span class="built_in">=</span> min( distanceCost(RRTree(:,<span class="number">1</span>:<span class="number">2</span>),sample) ,[],<span class="number">1</span>); <span class="comment">% find the minimum value of each column</span></span><br><span class="line">    closestNode <span class="built_in">=</span> RRTree(I(<span class="number">1</span>),<span class="number">1</span>:<span class="number">2</span>);</span><br><span class="line">    </span><br><span class="line">ã€€ã€€<span class="comment">%% moving from qnearest an incremental distance in the direction of qrand</span></span><br><span class="line">    theta <span class="built_in">=</span> atan2(sample(<span class="number">1</span>)-closestNode(<span class="number">1</span>),sample(<span class="number">2</span>)-closestNode(<span class="number">2</span>));  <span class="comment">% direction to extend sample to produce new node</span></span><br><span class="line">    newPoint <span class="built_in">=</span> double(int32(closestNode(<span class="number">1</span>:<span class="number">2</span>) + stepsize * [sin(theta)  cos(theta)]));</span><br><span class="line">    <span class="built_in">if</span> ~checkPath(closestNode(<span class="number">1</span>:<span class="number">2</span>), newPoint, map) <span class="comment">% if extension of closest node in tree to the new point is feasible</span></span><br><span class="line">        failedAttempts <span class="built_in">=</span> failedAttempts + <span class="number">1</span>;</span><br><span class="line">        continue;</span><br><span class="line">    end</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">if</span> distanceCost(newPoint,goal) &lt; threshold, pathFound <span class="built_in">=</span> <span class="built_in">true</span>; break; end <span class="comment">% goal reached</span></span><br><span class="line">    </span><br><span class="line">    [A, I2] <span class="built_in">=</span> min( distanceCost(RRTree(:,<span class="number">1</span>:<span class="number">2</span>),newPoint) ,[],<span class="number">1</span>); <span class="comment">% check if new node is not already pre-existing in the tree</span></span><br><span class="line">    <span class="built_in">if</span> distanceCost(newPoint,RRTree(I2(<span class="number">1</span>),<span class="number">1</span>:<span class="number">2</span>)) &lt; threshold, failedAttempts <span class="built_in">=</span> failedAttempts + <span class="number">1</span>; continue; end </span><br><span class="line">    </span><br><span class="line">    RRTree <span class="built_in">=</span> [RRTree; newPoint I(<span class="number">1</span>)]; <span class="comment">% add node</span></span><br><span class="line">    failedAttempts <span class="built_in">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">if</span> display, line([closestNode(<span class="number">2</span>);newPoint(<span class="number">2</span>)],[closestNode(<span class="number">1</span>);newPoint(<span class="number">1</span>)]);counter <span class="built_in">=</span> counter + <span class="number">1</span>; M(counter) <span class="built_in">=</span> getframe; end <span class="comment">% Capture movie frame </span></span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"><span class="comment">% getframe returns a movie frame, which is a structure having two fields</span></span><br><span class="line"><span class="built_in">if</span> display &amp;&amp; pathFound, line([closestNode(<span class="number">2</span>);goal(<span class="number">2</span>)],[closestNode(<span class="number">1</span>);goal(<span class="number">1</span>)]); counter <span class="built_in">=</span> counter+<span class="number">1</span>;M(counter) <span class="built_in">=</span> getframe; end</span><br><span class="line"></span><br><span class="line"><span class="built_in">if</span> display, disp(<span class="string">'click/press any key'</span>); waitforbuttonpress; end</span><br><span class="line"><span class="built_in">if</span> ~pathFound, error(<span class="string">'no path found. maximum attempts reached'</span>); end</span><br><span class="line"></span><br><span class="line"><span class="comment">%% retrieve path from parent information</span></span><br><span class="line">path <span class="built_in">=</span> [goal];</span><br><span class="line">prev <span class="built_in">=</span> I(<span class="number">1</span>);</span><br><span class="line">while prev &gt; <span class="number">0</span></span><br><span class="line">    path <span class="built_in">=</span> [RRTree(prev,<span class="number">1</span>:<span class="number">2</span>); path];</span><br><span class="line">    prev <span class="built_in">=</span> RRTree(prev,<span class="number">3</span>);</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">pathLength <span class="built_in">=</span> <span class="number">0</span>;</span><br><span class="line">for i<span class="built_in">=</span><span class="number">1</span>:length(path)-<span class="number">1</span>, pathLength <span class="built_in">=</span> pathLength + distanceCost(path(i,<span class="number">1</span>:<span class="number">2</span>),path(i+<span class="number">1</span>,<span class="number">1</span>:<span class="number">2</span>)); end <span class="comment">% calculate path length</span></span><br><span class="line">fprintf(<span class="string">'processing time=%d \nPath Length=%d \n\n'</span>, toc, pathLength); </span><br><span class="line">imshow(map);rectangle(<span class="string">'position'</span>,[<span class="number">1</span> <span class="number">1</span> size(map)-<span class="number">1</span>],<span class="string">'edgecolor'</span>,<span class="string">'k'</span>);</span><br><span class="line">line(path(:,<span class="number">2</span>),path(:,<span class="number">1</span>));</span><br></pre></td></tr></table></figure></p>
<p>å…¶ä»–mæ–‡ä»¶ï¼š<br><figure class="highlight m"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">%% distanceCost.m</span></span><br><span class="line">function h<span class="built_in">=</span>distanceCost(a,b)</span><br><span class="line">    h <span class="built_in">=</span> sqrt(sum((a-b).^<span class="number">2</span>, <span class="number">2</span>));</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">%% checkPath.m  </span></span><br><span class="line">function feasible<span class="built_in">=</span>checkPath(n,newPos,map)</span><br><span class="line">feasible<span class="built_in">=</span><span class="built_in">true</span>;</span><br><span class="line">dir<span class="built_in">=</span>atan2(newPos(<span class="number">1</span>)-n(<span class="number">1</span>),newPos(<span class="number">2</span>)-n(<span class="number">2</span>));</span><br><span class="line">for r<span class="built_in">=</span><span class="number">0</span>:<span class="number">0.5</span>:sqrt(sum((n-newPos).^<span class="number">2</span>))</span><br><span class="line">    posCheck<span class="built_in">=</span>n+r.*[sin(dir) cos(dir)];</span><br><span class="line">    <span class="built_in">if</span> ~(feasiblePoint(ceil(posCheck),map) &amp;&amp; feasiblePoint(floor(posCheck),map) &amp;&amp; ... </span><br><span class="line">            feasiblePoint([ceil(posCheck(<span class="number">1</span>)) floor(posCheck(<span class="number">2</span>))],map) &amp;&amp; feasiblePoint([floor(posCheck(<span class="number">1</span>)) ceil(posCheck(<span class="number">2</span>))],map))</span><br><span class="line">        feasible<span class="built_in">=</span><span class="built_in">false</span>;break;</span><br><span class="line">    end</span><br><span class="line">    <span class="built_in">if</span> ~feasiblePoint(newPos,map), feasible<span class="built_in">=</span><span class="built_in">false</span>; end</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">%% feasiblePoint.m</span></span><br><span class="line">function feasible<span class="built_in">=</span>feasiblePoint(point,map)</span><br><span class="line">feasible<span class="built_in">=</span><span class="built_in">true</span>;</span><br><span class="line"><span class="comment">% check if collission-free spot and inside maps</span></span><br><span class="line"><span class="built_in">if</span> ~(point(<span class="number">1</span>)&gt;<span class="built_in">=</span><span class="number">1</span> &amp;&amp; point(<span class="number">1</span>)<span class="built_in">&lt;=</span>size(map,<span class="number">1</span>) &amp;&amp; point(<span class="number">2</span>)&gt;<span class="built_in">=</span><span class="number">1</span> &amp;&amp; point(<span class="number">2</span>)<span class="built_in">&lt;=</span>size(map,<span class="number">2</span>) &amp;&amp; map(point(<span class="number">1</span>),point(<span class="number">2</span>))<span class="built_in">=</span><span class="built_in">=</span><span class="number">1</span>)</span><br><span class="line">    feasible<span class="built_in">=</span><span class="built_in">false</span>;</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p>
<p><img src="https://wx2.sinaimg.cn/mw690/4b1ff580ly1g0753cz6gtg20ea0eamzq.gif"><br>RRTç®—æ³•ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼Œå®ƒæ˜¯ä¸€ç§çº¯ç²¹çš„éšæœºæœç´¢ç®—æ³•å¯¹ç¯å¢ƒç±»å‹ä¸æ•æ„Ÿï¼Œå½“C-ç©ºé—´ä¸­åŒ…å«å¤§é‡éšœç¢ç‰©æˆ–ç‹­çª„é€šé“çº¦æŸæ—¶ï¼Œç®—æ³•çš„æ”¶æ•›é€Ÿåº¦æ…¢ï¼Œæ•ˆç‡ä¼šå¤§å¹…ä¸‹é™ï¼š<br><img src="https://wx4.sinaimg.cn/mw690/4b1ff580ly1g07559x31bg20dw0dwk09.gif"></p>
<p>RRT çš„ä¸€ä¸ªå¼±ç‚¹æ˜¯éš¾ä»¥åœ¨æœ‰ç‹­çª„é€šé“çš„ç¯å¢ƒæ‰¾åˆ°è·¯å¾„ã€‚å› ä¸ºç‹­çª„é€šé“é¢ç§¯å°ï¼Œè¢«ç¢°åˆ°çš„æ¦‚ç‡ä½ã€‚ä¸‹å›¾å±•ç¤ºçš„ä¾‹å­æ˜¯ RRT åº”å¯¹ä¸€ä¸ªäººä¸ºåˆ¶ä½œçš„å¾ˆçŸ­çš„ç‹­çª„é€šé“ï¼Œæœ‰æ—¶RRTå¾ˆå¿«å°±æ‰¾åˆ°äº†å‡ºè·¯ï¼Œæœ‰æ—¶åˆ™ä¸€ç›´è¢«å›°åœ¨éšœç¢ç‰©é‡Œé¢ï¼š<br><img src="https://wx1.sinaimg.cn/mw690/4b1ff580ly1g0756fo03kg20ci0ci74g.gif"><br><img src="https://wx2.sinaimg.cn/mw690/4b1ff580ly1g0756ishf1g20ci0ciwft.gif"></p>
<p>ä¸Šè¿°åŸºç¡€RRTç®—æ³•ä¸­æœ‰å‡ å¤„å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ï¼š</p>
<p>how to sample from C-Space (line 4). å¦‚ä½•è¿›è¡Œéšæœºé‡‡æ ·<br>how to define the â€œnearestâ€ node in T (line 5). å¦‚ä½•å®šä¹‰â€œæœ€è¿‘â€ç‚¹<br>how to plan the motion to make progress toward sample (line 8). å¦‚ä½•è¿›è¡Œæ ‘çš„æ‰©å±•<br>ã€€ã€€Even a small change to the sampling method, for example, can yield a dramatic change in the running time of the planner. A wide variety of planners have been proposed in the literature based on these choices and other variations. æ ¹æ®ä»¥ä¸Šå‡ ä¸ªæ–¹å‘ï¼Œå¤šç§RRTæ”¹è¿›ç®—æ³•è¢«æå‡ºã€‚</p>
<p>Defining the Nearest Node<br>ã€€ã€€æŸ¥æ‰¾æœ€è¿‘ç‚¹çš„åŸºç¡€æ˜¯è®¡ç®—C-Spaceä¸­ä¸¤ç‚¹é—´çš„è·ç¦»ã€‚è®¡ç®—è·ç¦»æœ€ç›´è§‚çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ¬§æ°è·ç¦»ï¼Œä½†å¯¹å¾ˆå¤šC-Spaceæ¥è¯´è¿™æ ·åšçš„ç›´è§‚æ„ä¹‰å¹¶ä¸æ˜æ˜¾ã€‚Finding the â€œnearestâ€ node depends on a definition of distance. A natural choice for the distance between two points is simply the Euclidean distance. For other spaces, the choice is less obvious. ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯¹äºä¸€ä¸ªcar-like robotæ¥è¯´å…¶C-spaceä¸ºR2Ã—S1.  è™šçº¿æ¡†åˆ†åˆ«ä»£è¡¨ä¸‰ç§ä¸åŒçš„æœºå™¨äººæ„å‹ï¼šç¬¬ä¸€ä¸ªæ„å‹ç»•å…¶æ—‹è½¬äº†20Â°ï¼Œç¬¬äºŒä¸ªåœ¨å®ƒåæ–¹2ç±³å¤„ï¼Œæœ€åä¸€ä¸ªåœ¨ä¾§æ–¹ä½1ç±³å¤„ã€‚é‚£ä¹ˆå“ªä¸€ç§è·ç¦»ç°è‰²çš„ç›®æ ‡â€œæœ€è¿‘â€å‘¢ï¼Ÿæ±½è½¦å‹æœºå™¨äººçš„è¿åŠ¨çº¦æŸå¯¼è‡´å…¶ä¸èƒ½ç›´æ¥è¿›è¡Œæ¨ªå‘è¿åŠ¨å’ŒåŸåœ°è½¬åŠ¨ã€‚å› æ­¤ï¼Œå¯¹äºè¿™ç§æœºå™¨äººæ¥è¯´ä»ç¬¬äºŒç§æ„å‹ç§»åŠ¨åˆ°ç›®æ ‡ä½ç½®â€œæœ€è¿‘â€ã€‚</p>
<p><img src="https://wx1.sinaimg.cn/mw690/4b1ff580ly1g0758kcl79j20j606w74i.jpg"><br>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºæ¥ï¼Œå®šä¹‰ä¸€ä¸ªè·ç¦»éœ€è¦è€ƒè™‘ä»¥ä¸‹ä¸¤ç‚¹ï¼š</p>
<ul>
<li>combining components of different units (e.g., degrees, meters, degrees/s,meters/s) into a single distance measure;</li>
<li><p>taking into account the motion constraints of the robot ç»“åˆä¸åŒå•ä½çš„ä¸€ä¸ªç®€å•åŠæ³•æ˜¯ä½¿ç”¨åŠ æƒå¹³å‡è®¡ç®—è·ç¦»ï¼Œä¸åŒåˆ†é‡çš„é‡è¦ç¨‹åº¦ç”¨æƒå€¼å¤§å°è¡¨ç¤ºï¼ˆThe weights express the relative importance of the different componentsï¼‰ã€‚å¯»æ‰¾æœ€è¿‘ç‚¹åœ¨è®¡ç®—æœºç§‘å­¦å’Œæœºå™¨äººå­¦ç­‰é¢†åŸŸä¸­æ˜¯ä¸€ä¸ªéå¸¸æ™®éçš„é—®é¢˜ï¼Œå·²ç»æœ‰å„ç§ç”¨äºåŠ é€Ÿè®¡ç®—çš„æ–¹æ³•ï¼Œæ¯”å¦‚K-dæ ‘ã€hashç®—æ³•ç­‰ã€‚</p>
</li>
<li><p>The Sampler<br>ã€€ã€€The reason that the tree ends up covering the entire search space (in most cases) is because of the combination of the sampling strategy, and always looking to connect from the nearest point in the tree. The choice of where to place the next vertex that you will attempt to connect to is the sampling problem. In simple cases, where search is low dimensional, uniform random placement (or uniform random placement biased toward the goal) works adequately. In high dimensional problems, or when motions are very complex (when joints have positions, velocities and accelerations), or configuration is difficult to control, sampling strategies for RRTs are still an open research area.</p>
</li>
<li><p>The Local Planner<br>ã€€ã€€The job of the local planner is to find a motion from qnearest to some point qnew which is closer to qrand. The planner should be simple and it should run quickly. </p>
</li>
</ul>
<p>A straight-line planner. The plan is a straight line to qnew, which may be chosen at qrand or at a fixed distance d from qnearest on the straight line to qrand. This is suitable for kinematic systems with no motion constraints. </p>
<p>Bidirectional RRT / RRT Connect<br>ã€€ã€€åŸºæœ¬çš„RRTæ¯æ¬¡æœç´¢éƒ½åªæœ‰ä»åˆå§‹çŠ¶æ€ç‚¹ç”Ÿé•¿çš„å¿«é€Ÿæ‰©å±•éšæœºæ ‘æ¥æœç´¢æ•´ä¸ªçŠ¶æ€ç©ºé—´ï¼Œå¦‚æœä»åˆå§‹çŠ¶æ€ç‚¹å’Œç›®æ ‡çŠ¶æ€ç‚¹åŒæ—¶ç”Ÿé•¿ä¸¤æ£µå¿«é€Ÿæ‰©å±•éšæœºæ ‘æ¥æœç´¢çŠ¶æ€ç©ºé—´ï¼Œæ•ˆç‡ä¼šæ›´é«˜ã€‚ä¸ºæ­¤ï¼ŒåŸºäºåŒå‘æ‰©å±•å¹³è¡¡çš„è¿ç»“å‹åŒæ ‘RRTç®—æ³•ï¼Œå³RRT_Connectç®—æ³•è¢«æå‡ºã€‚</p>
<p><img src="https://wx3.sinaimg.cn/mw690/4b1ff580ly1g0758nu86pj20i30k5js3.jpg"></p>
<p>è¯¥ç®—æ³•ä¸åŸå§‹RRTç›¸æ¯”ï¼Œåœ¨ç›®æ ‡ç‚¹åŒºåŸŸå»ºç«‹ç¬¬äºŒæ£µæ ‘è¿›è¡Œæ‰©å±•ã€‚æ¯ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œå¼€å§‹æ­¥éª¤ä¸åŸå§‹çš„RRTç®—æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯é‡‡æ ·éšæœºç‚¹ç„¶åè¿›è¡Œæ‰©å±•ã€‚ç„¶åæ‰©å±•å®Œç¬¬ä¸€æ£µæ ‘çš„æ–°èŠ‚ç‚¹ğ‘ğ‘›ğ‘’ğ‘¤åï¼Œä»¥è¿™ä¸ªæ–°çš„ç›®æ ‡ç‚¹ä½œä¸ºç¬¬äºŒæ£µæ ‘æ‰©å±•çš„æ–¹å‘ã€‚åŒæ—¶ç¬¬äºŒæ£µæ ‘æ‰©å±•çš„æ–¹å¼ç•¥æœ‰ä¸åŒï¼ˆ15~22è¡Œï¼‰ï¼Œé¦–å…ˆå®ƒä¼šæ‰©å±•ç¬¬ä¸€æ­¥å¾—åˆ°ğ‘â€²ğ‘›ğ‘’ğ‘¤ï¼Œå¦‚æœæ²¡æœ‰ç¢°æ’ï¼Œç»§ç»­å¾€ç›¸åŒçš„æ–¹å‘æ‰©å±•ç¬¬äºŒæ­¥ï¼Œç›´åˆ°æ‰©å±•å¤±è´¥æˆ–è€…ğ‘â€²ğ‘›ğ‘’ğ‘¤=ğ‘ğ‘›ğ‘’ğ‘¤è¡¨ç¤ºä¸ç¬¬ä¸€æ£µæ ‘ç›¸è¿äº†ï¼Œå³connectäº†ï¼Œæ•´ä¸ªç®—æ³•ç»“æŸã€‚å½“ç„¶æ¯æ¬¡è¿­ä»£ä¸­å¿…é¡»è€ƒè™‘ä¸¤æ£µæ ‘çš„å¹³è¡¡æ€§ï¼Œå³ä¸¤æ£µæ ‘çš„èŠ‚ç‚¹æ•°çš„å¤šå°‘ï¼ˆä¹Ÿå¯ä»¥è€ƒè™‘ä¸¤æ£µæ ‘æ€»å…±èŠ±è´¹çš„è·¯å¾„é•¿åº¦ï¼‰ï¼Œäº¤æ¢æ¬¡åºé€‰æ‹©â€œå°â€çš„é‚£æ£µæ ‘è¿›è¡Œæ‰©å±•ã€‚è¿™ç§åŒå‘çš„RRTæŠ€æœ¯å…·æœ‰è‰¯å¥½çš„æœç´¢ç‰¹æ€§ï¼Œæ¯”åŸå§‹RRTç®—æ³•çš„æœç´¢é€Ÿåº¦ã€æœç´¢æ•ˆç‡æœ‰äº†æ˜¾è‘—æé«˜ï¼Œè¢«å¹¿æ³›åº”ç”¨ã€‚é¦–å…ˆï¼ŒConnectç®—æ³•è¾ƒä¹‹å‰çš„ç®—æ³•åœ¨æ‰©å±•çš„æ­¥é•¿ä¸Šæ›´é•¿ï¼Œä½¿å¾—æ ‘çš„ç”Ÿé•¿æ›´å¿«ï¼›å…¶æ¬¡ï¼Œä¸¤æ£µæ ‘ä¸æ–­æœå‘å¯¹æ–¹äº¤æ›¿æ‰©å±•ï¼Œè€Œä¸æ˜¯é‡‡ç”¨éšæœºæ‰©å±•çš„æ–¹å¼ï¼Œç‰¹åˆ«å½“èµ·å§‹ä½å§¿å’Œç›®æ ‡ä½å§¿å¤„äºçº¦æŸåŒºåŸŸæ—¶ï¼Œä¸¤æ£µæ ‘å¯ä»¥é€šè¿‡æœå‘å¯¹æ–¹å¿«é€Ÿæ‰©å±•è€Œé€ƒç¦»å„è‡ªçš„çº¦æŸåŒºåŸŸã€‚è¿™ç§å¸¦æœ‰å¯å‘æ€§çš„æ‰©å±•ä½¿å¾—æ ‘çš„æ‰©å±•æ›´åŠ è´ªå©ªå’Œæ˜ç¡®ï¼Œä½¿å¾—åŒæ ‘RRTç®—æ³•è¾ƒä¹‹å•æ ‘RRTç®—æ³•æ›´åŠ æœ‰æ•ˆã€‚</p>
<p><img src="https://wx1.sinaimg.cn/mw690/4b1ff580ly1g0758qs0yhj20pf0atmys.jpg"></p>
<p>å‚è€ƒè¿™é‡Œå¯ä»¥ç”¨MATLABå®ç°ä¸€ä¸ªç®€å•çš„RRT Connectè·¯å¾„è§„åˆ’ï¼š</p>
<p><img src="https://wx3.sinaimg.cn/mw690/4b1ff580ly1g0758ez18jg20e50e4wfx.gif"></p>
<p><strong>Reference</strong></p>
<ul>
<li><a href="http://msl.cs.uiuc.edu/rrt/" target="_blank" rel="noopener">Rapidly-exploring Random Trees (RRTs)</a></li>
<li><a href="https://www.cnblogs.com/21207-iHome/p/7210543.html" target="_blank" rel="noopener">RRTè·¯å¾„è§„åˆ’ç®—æ³•</a></li>
</ul>


<!--<a href="http://yoursite.com/2019-2-15-rrt.html#disqus_thread" class="article-comment-link">Comments</a>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mickeyouyou'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
<div style="display:none">
<script src="http://s4.cnzz.com/stat.php?id=1254090228&web_id=1254090228" language="JavaScript"></script>script>
</div><!-- hexo-inject:begin --><!-- hexo-inject:end -->




</body>
</html>