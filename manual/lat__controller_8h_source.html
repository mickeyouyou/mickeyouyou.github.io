<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Apollo: modules/control/controller/lat_controller.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Apollo
   &#160;<span id="projectnumber">1.5</span>
   </div>
   <div id="projectbrief">Open source self driving car software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e05d7e2b1ecd646af5bb94391405f3b5.html">modules</a></li><li class="navelem"><a class="el" href="dir_535e3c8ff932517611b98a303f44cc0f.html">control</a></li><li class="navelem"><a class="el" href="dir_5ce0d7bbd861a1663a18f72f6d210aff.html">controller</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">lat_controller.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="lat__controller_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/******************************************************************************</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright 2017 The Apollo Authors. All Rights Reserved.</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * you may not use this file except in compliance with the License.</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * You may obtain a copy of the License at</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * http://www.apache.org/licenses/LICENSE-2.0</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * limitations under the License.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> *****************************************************************************/</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#ifndef MODULES_CONTROL_CONTROLLER_LAT_CONTROLLER_H_</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#define MODULES_CONTROL_CONTROLLER_LAT_CONTROLLER_H_</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;Eigen/Core&quot;</span></div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;modules/common/configs/proto/vehicle_config.pb.h&quot;</span></div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="interpolation__1d_8h.html">modules/control/common/interpolation_1d.h</a>&quot;</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="trajectory__analyzer_8h.html">modules/control/common/trajectory_analyzer.h</a>&quot;</span></div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="controller_8h.html">modules/control/controller/controller.h</a>&quot;</span></div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="digital__filter_8h.html">modules/control/filters/digital_filter.h</a>&quot;</span></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="digital__filter__coefficients_8h.html">modules/control/filters/digital_filter_coefficients.h</a>&quot;</span></div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="mean__filter_8h.html">modules/control/filters/mean_filter.h</a>&quot;</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespaceapollo.html">apollo</a> {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">namespace </span>control {</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html">   53</a></span>&#160;<span class="keyword">class </span><a class="code" href="classapollo_1_1control_1_1LatController.html">LatController</a> : <span class="keyword">public</span> <a class="code" href="classapollo_1_1control_1_1Controller.html">Controller</a> {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; <span class="keyword">public</span>:</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <a class="code" href="classapollo_1_1control_1_1LatController.html#aa84a9b488172d22c7ea1f379f1d21947">LatController</a>();</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a9cf9e94573ba2cd5bfdecc4ad843341a">~LatController</a>();</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <a class="code" href="classapollo_1_1common_1_1Status.html">common::Status</a> <a class="code" href="classapollo_1_1control_1_1LatController.html#a93fdf2331e1d02c28694759cdba31c9f">Init</a>(<span class="keyword">const</span> ControlConf *control_conf) <span class="keyword">override</span>;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <a class="code" href="classapollo_1_1common_1_1Status.html">common::Status</a> <a class="code" href="classapollo_1_1control_1_1LatController.html#a79d8c04fd5d086dd93aa6ab46dfe7d3a">ComputeControlCommand</a>(</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="keyword">const</span> localization::LocalizationEstimate *localization,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="keyword">const</span> canbus::Chassis *chassis, <span class="keyword">const</span> planning::ADCTrajectory *trajectory,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;      ControlCommand *cmd) <span class="keyword">override</span>;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <a class="code" href="classapollo_1_1common_1_1Status.html">common::Status</a> <a class="code" href="classapollo_1_1control_1_1LatController.html#a21b9a9bff1f05bd54710bb951031b28e">Reset</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a4e34e248f3d233bdf2ed12f37b8d757c">Stop</a>() <span class="keyword">override</span>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  std::string <a class="code" href="classapollo_1_1control_1_1LatController.html#ab5d7b8e41433217e706e879d89889df2">Name</a>() <span class="keyword">const override</span>;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; <span class="keyword">protected</span>:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a7afe056ac7ceb4d9f76bbf75aa0208b5">UpdateState</a>(SimpleLateralDebug *debug);</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a9b5e9e38bb1f4b0e0d0674bba7111502">UpdateStateAnalyticalMatching</a>(SimpleLateralDebug *debug);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#af6a6eb57035bc186d9c1946b16fa29a6">UpdateMatrix</a>();</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a0689a3296efad7f1fb27a788d4fee990">UpdateMatrixCompound</a>();</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a316d541749440c2645c142634c37b03e">ComputeFeedForward</a>(<span class="keywordtype">double</span> ref_curvature) <span class="keyword">const</span>;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a5a2e3640705d0462a234d16b58eb03b6">GetLateralError</a>(</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      <span class="keyword">const</span> <a class="code" href="classapollo_1_1common_1_1math_1_1Vec2d.html">common::math::Vec2d</a> &amp;point,</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      apollo::common::TrajectoryPoint *trajectory_point) <span class="keyword">const</span>;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a46831ccabf15fc8a6596acd50680826c">ComputeLateralErrors</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> x, <span class="keyword">const</span> <span class="keywordtype">double</span> y, <span class="keyword">const</span> <span class="keywordtype">double</span> theta,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                            <span class="keyword">const</span> <span class="keywordtype">double</span> linear_v, <span class="keyword">const</span> <span class="keywordtype">double</span> angular_v,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                            <span class="keyword">const</span> <a class="code" href="classapollo_1_1control_1_1TrajectoryAnalyzer.html">TrajectoryAnalyzer</a> &amp;trajectory_analyzer,</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                            SimpleLateralDebug *debug) <span class="keyword">const</span>;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a09155f4d938beed115c8d1031ea153d3">LoadControlConf</a>(<span class="keyword">const</span> ControlConf *control_conf);</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#ae9efb62a80a365df6aed4f32989d641c">InitializeFilters</a>(<span class="keyword">const</span> ControlConf *control_conf);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#ac7f6ad5f572edda7f24cf9d6cb155653">LoadLatGainScheduler</a>(<span class="keyword">const</span> LatControllerConf &amp;lat_controller_conf);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#aa818902193041368efd4998b90e2d0d2">LogInitParameters</a>();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a66d11c50e7ef24f675917a3ecf03cc65">ProcessLogs</a>(<span class="keyword">const</span> SimpleLateralDebug *debug,</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                   <span class="keyword">const</span> canbus::Chassis *chassis);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a8138e44963fb3ff19990f52dabbf3a5a">CloseLogFile</a>();</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <span class="comment">// vehicle parameter</span></div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#ae998cd39fc04a944fce274d051c6cc4a">  132</a></span>&#160;  common::VehicleParam <a class="code" href="classapollo_1_1control_1_1LatController.html#ae998cd39fc04a944fce274d051c6cc4a">vehicle_param_</a>;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">// a proxy to analyze the planning trajectory</span></div><div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a40a6b5cf792fd5e4b89f13cf002d83d5">  135</a></span>&#160;  <a class="code" href="classapollo_1_1control_1_1TrajectoryAnalyzer.html">TrajectoryAnalyzer</a> <a class="code" href="classapollo_1_1control_1_1LatController.html#a40a6b5cf792fd5e4b89f13cf002d83d5">trajectory_analyzer_</a>;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="comment">// the following parameters are vehicle physics related.</span></div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="comment">// control time interval</span></div><div class="line"><a name="l00139"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#aca7312b041a5601393a8ae48bd7fbe81">  139</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#aca7312b041a5601393a8ae48bd7fbe81">ts_</a> = 0.0;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <span class="comment">// corner stiffness; front</span></div><div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#ad0150e5c241338f2b3f4af7b07db240c">  141</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#ad0150e5c241338f2b3f4af7b07db240c">cf_</a> = 0.0;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">// corner stiffness; rear</span></div><div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a722d10e23a5439a19615cde4f6333190">  143</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a722d10e23a5439a19615cde4f6333190">cr_</a> = 0.0;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <span class="comment">// distance between front and rear wheel center</span></div><div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a8fb953a38bf1bef7d597a1e71c4f8164">  145</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a8fb953a38bf1bef7d597a1e71c4f8164">wheelbase_</a> = 0.0;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="comment">// mass of the vehicle</span></div><div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a9efb297d86397caf858507489f7cc3e9">  147</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a9efb297d86397caf858507489f7cc3e9">mass_</a> = 0.0;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// distance from front wheel center to COM</span></div><div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#aacd1b9049a98b84c28d24c563d129c52">  149</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#aacd1b9049a98b84c28d24c563d129c52">lf_</a> = 0.0;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <span class="comment">// distance from rear wheel center to COM</span></div><div class="line"><a name="l00151"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a4e35396bbf40a0165ae7c0e6cbc3d8d1">  151</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a4e35396bbf40a0165ae7c0e6cbc3d8d1">lr_</a> = 0.0;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <span class="comment">// rotational inertia</span></div><div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#ac93659c5b88d196fa42522557ddc7591">  153</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#ac93659c5b88d196fa42522557ddc7591">iz_</a> = 0.0;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="comment">// the ratio between the turn of the steering wheel and the turn of the wheels</span></div><div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#adf6d90ca2874ca86dbe040eeb1b2cbe8">  155</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#adf6d90ca2874ca86dbe040eeb1b2cbe8">steer_transmission_ratio_</a> = 0.0;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  <span class="comment">// the maximum turn of steer</span></div><div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a7fd8ce64f24ad7bbdea7eca5b753010f">  157</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a7fd8ce64f24ad7bbdea7eca5b753010f">steer_single_direction_max_degree_</a> = 0.0;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// limit steering to maximum theoretical lateral acceleration</span></div><div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#abcb99624a7182eaec92d5a36b8cbdc79">  160</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#abcb99624a7182eaec92d5a36b8cbdc79">max_lat_acc_</a> = 0.0;</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">// number of control cycles look ahead (preview controller)</span></div><div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a4b9133ca1d6aae5e0a32ac785b590503">  163</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a4b9133ca1d6aae5e0a32ac785b590503">preview_window_</a> = 0;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <span class="comment">// number of states without previews, includes</span></div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="comment">// lateral error, lateral error rate, heading error, heading error rate</span></div><div class="line"><a name="l00166"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a8116b0bee81aeddcf884199337d01520">  166</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a8116b0bee81aeddcf884199337d01520">basic_state_size_</a> = 4;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <span class="comment">// vehicle state matrix</span></div><div class="line"><a name="l00168"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a62a6898c12c1d53b1ff2bbb7e624be46">  168</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#a62a6898c12c1d53b1ff2bbb7e624be46">matrix_a_</a>;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <span class="comment">// vehicle state matrix (discrete-time)</span></div><div class="line"><a name="l00170"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a75128c22c549723e3535f08b314affd8">  170</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#a75128c22c549723e3535f08b314affd8">matrix_ad_</a>;</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// vehicle state matrix compound; related to preview</span></div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a59f4b9b859e1e16adc4ef4191118dcf8">  172</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#a59f4b9b859e1e16adc4ef4191118dcf8">matrix_adc_</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="comment">// control matrix</span></div><div class="line"><a name="l00174"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a6739f82db84907e8a3299bff0d84c1aa">  174</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#a6739f82db84907e8a3299bff0d84c1aa">matrix_b_</a>;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">// control matrix (discrete-time)</span></div><div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#af2d561cb9c7cabc9d423c196fd4926e4">  176</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#af2d561cb9c7cabc9d423c196fd4926e4">matrix_bd_</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="comment">// control matrix compound</span></div><div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a2a5336ea2fe470895c106ce66bbe37ea">  178</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#a2a5336ea2fe470895c106ce66bbe37ea">matrix_bdc_</a>;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">// gain matrix</span></div><div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a743f80fb55d3b29aa3691c50074416a6">  180</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#a743f80fb55d3b29aa3691c50074416a6">matrix_k_</a>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// control authority weighting matrix</span></div><div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#ae9a880340127356bb0f7083553747265">  182</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#ae9a880340127356bb0f7083553747265">matrix_r_</a>;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="comment">// state weighting matrix</span></div><div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a790aa2235be918fe5ebe4ab162c8cfd7">  184</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#a790aa2235be918fe5ebe4ab162c8cfd7">matrix_q_</a>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">// updated state weighting matrix</span></div><div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#ac4bf6b6a9e31960970820897be246c60">  186</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#ac4bf6b6a9e31960970820897be246c60">matrix_q_updated_</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  <span class="comment">// vehicle state matrix coefficients</span></div><div class="line"><a name="l00188"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a0267c9c71dee2b9ecb6fb1ecf2a8f591">  188</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#a0267c9c71dee2b9ecb6fb1ecf2a8f591">matrix_a_coeff_</a>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="comment">// 4 by 1 matrix; state matrix</span></div><div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#ab92c84a60e4f0694a82294b15b85e131">  190</a></span>&#160;  Eigen::MatrixXd <a class="code" href="classapollo_1_1control_1_1LatController.html#ab92c84a60e4f0694a82294b15b85e131">matrix_state_</a>;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">// heading error</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="comment">// double heading_error_ = 0.0;</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="comment">// lateral distance to reference trajectory</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="comment">// double lateral_error_ = 0.0;</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">// reference heading</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">// double ref_heading_ = 0.0;</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="comment">// reference trajectory curvature</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="comment">// double ref_curvature_ = 0.0;</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <span class="comment">// heading error of last control cycle</span></div><div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a6a5c724cabee0dc12e448ba0a2b3868b">  203</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a6a5c724cabee0dc12e448ba0a2b3868b">previous_heading_error_</a> = 0.0;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  <span class="comment">// lateral distance to reference trajectory of last control cycle</span></div><div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a446d48b4dec56f77fea00772108f7249">  205</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#a446d48b4dec56f77fea00772108f7249">previous_lateral_error_</a> = 0.0;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">// heading error change rate over time, i.e. d(heading_error) / dt</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <span class="comment">// double heading_error_rate_ = 0.0;</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="comment">// lateral error change rate over time, i.e. d(lateral_error) / dt</span></div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="comment">// double lateral_error_rate_ = 0.0;</span></div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="comment">// parameters for lqr solver; number of iterations</span></div><div class="line"><a name="l00213"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#afd3f176889d4e636e78b8181961b4b9a">  213</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#afd3f176889d4e636e78b8181961b4b9a">lqr_max_iteration_</a> = 0;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">// parameters for lqr solver; threshold for computation</span></div><div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#aa43beb512ab0c3a05e281c8f7113f118">  215</a></span>&#160;  <span class="keywordtype">double</span> <a class="code" href="classapollo_1_1control_1_1LatController.html#aa43beb512ab0c3a05e281c8f7113f118">lqr_eps_</a> = 0.0;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#af4adece90f049f09ec18783b6a63d503">  217</a></span>&#160;  <a class="code" href="classapollo_1_1control_1_1DigitalFilter.html">DigitalFilter</a> <a class="code" href="classapollo_1_1control_1_1LatController.html#af4adece90f049f09ec18783b6a63d503">digital_filter_</a>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#ae05123131f840d8a5c3bc833c93c451a">  219</a></span>&#160;  std::unique_ptr&lt;Interpolation1D&gt; <a class="code" href="classapollo_1_1control_1_1LatController.html#ae05123131f840d8a5c3bc833c93c451a">lat_err_interpolation_</a>;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div><div class="line"><a name="l00221"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#ab659ec51c65e74587d400432defc33ff">  221</a></span>&#160;  std::unique_ptr&lt;Interpolation1D&gt; <a class="code" href="classapollo_1_1control_1_1LatController.html#ab659ec51c65e74587d400432defc33ff">heading_err_interpolation_</a>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="comment">// MeanFilter heading_rate_filter_;</span></div><div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a12e60be25cb6d500a2167c1101533c68">  224</a></span>&#160;  <a class="code" href="classapollo_1_1control_1_1MeanFilter.html">MeanFilter</a> <a class="code" href="classapollo_1_1control_1_1LatController.html#a12e60be25cb6d500a2167c1101533c68">lateral_error_filter_</a>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="comment">// for logging purpose</span></div><div class="line"><a name="l00227"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a34164a35404870a66ddd10a7bba13297">  227</a></span>&#160;  std::ofstream <a class="code" href="classapollo_1_1control_1_1LatController.html#a34164a35404870a66ddd10a7bba13297">steer_log_file_</a>;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;</div><div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classapollo_1_1control_1_1LatController.html#a1e0181cf7cb68a16a2d58ba3a3598a5c">  229</a></span>&#160;  <span class="keyword">const</span> std::string <a class="code" href="classapollo_1_1control_1_1LatController.html#a1e0181cf7cb68a16a2d58ba3a3598a5c">name_</a>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;};</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}  <span class="comment">// namespace control</span></div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}  <span class="comment">// namespace apollo</span></div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="preprocessor">#endif  // MODULES_CONTROL_CONTROLLER_LATERAL_CONTROLLER_H_</span></div><div class="ttc" id="classapollo_1_1control_1_1LatController_html_a6739f82db84907e8a3299bff0d84c1aa"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a6739f82db84907e8a3299bff0d84c1aa">apollo::control::LatController::matrix_b_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_b_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:174</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a7afe056ac7ceb4d9f76bbf75aa0208b5"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a7afe056ac7ceb4d9f76bbf75aa0208b5">apollo::control::LatController::UpdateState</a></div><div class="ttdeci">void UpdateState(SimpleLateralDebug *debug)</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a4b9133ca1d6aae5e0a32ac785b590503"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a4b9133ca1d6aae5e0a32ac785b590503">apollo::control::LatController::preview_window_</a></div><div class="ttdeci">int preview_window_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:163</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_adf6d90ca2874ca86dbe040eeb1b2cbe8"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#adf6d90ca2874ca86dbe040eeb1b2cbe8">apollo::control::LatController::steer_transmission_ratio_</a></div><div class="ttdeci">double steer_transmission_ratio_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:155</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ab92c84a60e4f0694a82294b15b85e131"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ab92c84a60e4f0694a82294b15b85e131">apollo::control::LatController::matrix_state_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_state_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:190</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a743f80fb55d3b29aa3691c50074416a6"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a743f80fb55d3b29aa3691c50074416a6">apollo::control::LatController::matrix_k_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_k_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:180</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a722d10e23a5439a19615cde4f6333190"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a722d10e23a5439a19615cde4f6333190">apollo::control::LatController::cr_</a></div><div class="ttdeci">double cr_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:143</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a21b9a9bff1f05bd54710bb951031b28e"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a21b9a9bff1f05bd54710bb951031b28e">apollo::control::LatController::Reset</a></div><div class="ttdeci">common::Status Reset() override</div><div class="ttdoc">reset Lateral Controller </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a446d48b4dec56f77fea00772108f7249"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a446d48b4dec56f77fea00772108f7249">apollo::control::LatController::previous_lateral_error_</a></div><div class="ttdeci">double previous_lateral_error_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:205</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a1e0181cf7cb68a16a2d58ba3a3598a5c"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a1e0181cf7cb68a16a2d58ba3a3598a5c">apollo::control::LatController::name_</a></div><div class="ttdeci">const std::string name_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:229</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a34164a35404870a66ddd10a7bba13297"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a34164a35404870a66ddd10a7bba13297">apollo::control::LatController::steer_log_file_</a></div><div class="ttdeci">std::ofstream steer_log_file_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:227</div></div>
<div class="ttc" id="namespaceapollo_html"><div class="ttname"><a href="namespaceapollo.html">apollo</a></div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a4e34e248f3d233bdf2ed12f37b8d757c"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a4e34e248f3d233bdf2ed12f37b8d757c">apollo::control::LatController::Stop</a></div><div class="ttdeci">void Stop() override</div><div class="ttdoc">stop Lateral controller </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a790aa2235be918fe5ebe4ab162c8cfd7"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a790aa2235be918fe5ebe4ab162c8cfd7">apollo::control::LatController::matrix_q_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_q_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:184</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ad0150e5c241338f2b3f4af7b07db240c"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ad0150e5c241338f2b3f4af7b07db240c">apollo::control::LatController::cf_</a></div><div class="ttdeci">double cf_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:141</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ac93659c5b88d196fa42522557ddc7591"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ac93659c5b88d196fa42522557ddc7591">apollo::control::LatController::iz_</a></div><div class="ttdeci">double iz_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:153</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a0689a3296efad7f1fb27a788d4fee990"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a0689a3296efad7f1fb27a788d4fee990">apollo::control::LatController::UpdateMatrixCompound</a></div><div class="ttdeci">void UpdateMatrixCompound()</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a0267c9c71dee2b9ecb6fb1ecf2a8f591"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a0267c9c71dee2b9ecb6fb1ecf2a8f591">apollo::control::LatController::matrix_a_coeff_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_a_coeff_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:188</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a09155f4d938beed115c8d1031ea153d3"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a09155f4d938beed115c8d1031ea153d3">apollo::control::LatController::LoadControlConf</a></div><div class="ttdeci">bool LoadControlConf(const ControlConf *control_conf)</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ab5d7b8e41433217e706e879d89889df2"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ab5d7b8e41433217e706e879d89889df2">apollo::control::LatController::Name</a></div><div class="ttdeci">std::string Name() const override</div><div class="ttdoc">Lateral controller name. </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_aa43beb512ab0c3a05e281c8f7113f118"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#aa43beb512ab0c3a05e281c8f7113f118">apollo::control::LatController::lqr_eps_</a></div><div class="ttdeci">double lqr_eps_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:215</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a316d541749440c2645c142634c37b03e"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a316d541749440c2645c142634c37b03e">apollo::control::LatController::ComputeFeedForward</a></div><div class="ttdeci">double ComputeFeedForward(double ref_curvature) const</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_af6a6eb57035bc186d9c1946b16fa29a6"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#af6a6eb57035bc186d9c1946b16fa29a6">apollo::control::LatController::UpdateMatrix</a></div><div class="ttdeci">void UpdateMatrix()</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ae9a880340127356bb0f7083553747265"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ae9a880340127356bb0f7083553747265">apollo::control::LatController::matrix_r_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_r_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:182</div></div>
<div class="ttc" id="mean__filter_8h_html"><div class="ttname"><a href="mean__filter_8h.html">mean_filter.h</a></div><div class="ttdoc">Defines the MeanFilter class. </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a2a5336ea2fe470895c106ce66bbe37ea"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a2a5336ea2fe470895c106ce66bbe37ea">apollo::control::LatController::matrix_bdc_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_bdc_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:178</div></div>
<div class="ttc" id="classapollo_1_1control_1_1Controller_html"><div class="ttname"><a href="classapollo_1_1control_1_1Controller.html">apollo::control::Controller</a></div><div class="ttdoc">base class for all controllers. </div><div class="ttdef"><b>Definition:</b> controller.h:46</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_afd3f176889d4e636e78b8181961b4b9a"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#afd3f176889d4e636e78b8181961b4b9a">apollo::control::LatController::lqr_max_iteration_</a></div><div class="ttdeci">int lqr_max_iteration_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:213</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a7fd8ce64f24ad7bbdea7eca5b753010f"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a7fd8ce64f24ad7bbdea7eca5b753010f">apollo::control::LatController::steer_single_direction_max_degree_</a></div><div class="ttdeci">double steer_single_direction_max_degree_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:157</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a46831ccabf15fc8a6596acd50680826c"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a46831ccabf15fc8a6596acd50680826c">apollo::control::LatController::ComputeLateralErrors</a></div><div class="ttdeci">void ComputeLateralErrors(const double x, const double y, const double theta, const double linear_v, const double angular_v, const TrajectoryAnalyzer &amp;trajectory_analyzer, SimpleLateralDebug *debug) const</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a40a6b5cf792fd5e4b89f13cf002d83d5"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a40a6b5cf792fd5e4b89f13cf002d83d5">apollo::control::LatController::trajectory_analyzer_</a></div><div class="ttdeci">TrajectoryAnalyzer trajectory_analyzer_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:135</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ac4bf6b6a9e31960970820897be246c60"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ac4bf6b6a9e31960970820897be246c60">apollo::control::LatController::matrix_q_updated_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_q_updated_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:186</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html">apollo::control::LatController</a></div><div class="ttdoc">LQR-Based lateral controller, to compute steering target. For more details, please refer to &quot;Vehicle ...</div><div class="ttdef"><b>Definition:</b> lat_controller.h:53</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a79d8c04fd5d086dd93aa6ab46dfe7d3a"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a79d8c04fd5d086dd93aa6ab46dfe7d3a">apollo::control::LatController::ComputeControlCommand</a></div><div class="ttdeci">common::Status ComputeControlCommand(const localization::LocalizationEstimate *localization, const canbus::Chassis *chassis, const planning::ADCTrajectory *trajectory, ControlCommand *cmd) override</div><div class="ttdoc">compute steering target based on current vehicle status and target trajectory </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a8138e44963fb3ff19990f52dabbf3a5a"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a8138e44963fb3ff19990f52dabbf3a5a">apollo::control::LatController::CloseLogFile</a></div><div class="ttdeci">void CloseLogFile()</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a12e60be25cb6d500a2167c1101533c68"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a12e60be25cb6d500a2167c1101533c68">apollo::control::LatController::lateral_error_filter_</a></div><div class="ttdeci">MeanFilter lateral_error_filter_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:224</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a8116b0bee81aeddcf884199337d01520"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a8116b0bee81aeddcf884199337d01520">apollo::control::LatController::basic_state_size_</a></div><div class="ttdeci">const int basic_state_size_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:166</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ab659ec51c65e74587d400432defc33ff"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ab659ec51c65e74587d400432defc33ff">apollo::control::LatController::heading_err_interpolation_</a></div><div class="ttdeci">std::unique_ptr&lt; Interpolation1D &gt; heading_err_interpolation_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:221</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ae998cd39fc04a944fce274d051c6cc4a"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ae998cd39fc04a944fce274d051c6cc4a">apollo::control::LatController::vehicle_param_</a></div><div class="ttdeci">common::VehicleParam vehicle_param_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:132</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_aacd1b9049a98b84c28d24c563d129c52"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#aacd1b9049a98b84c28d24c563d129c52">apollo::control::LatController::lf_</a></div><div class="ttdeci">double lf_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:149</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ae05123131f840d8a5c3bc833c93c451a"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ae05123131f840d8a5c3bc833c93c451a">apollo::control::LatController::lat_err_interpolation_</a></div><div class="ttdeci">std::unique_ptr&lt; Interpolation1D &gt; lat_err_interpolation_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:219</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_aa818902193041368efd4998b90e2d0d2"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#aa818902193041368efd4998b90e2d0d2">apollo::control::LatController::LogInitParameters</a></div><div class="ttdeci">void LogInitParameters()</div></div>
<div class="ttc" id="classapollo_1_1control_1_1MeanFilter_html"><div class="ttname"><a href="classapollo_1_1control_1_1MeanFilter.html">apollo::control::MeanFilter</a></div><div class="ttdoc">The MeanFilter class is used to smoothen a series of noisy numbers, such as sensor data or the output...</div><div class="ttdef"><b>Definition:</b> mean_filter.h:46</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a59f4b9b859e1e16adc4ef4191118dcf8"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a59f4b9b859e1e16adc4ef4191118dcf8">apollo::control::LatController::matrix_adc_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_adc_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:172</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a62a6898c12c1d53b1ff2bbb7e624be46"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a62a6898c12c1d53b1ff2bbb7e624be46">apollo::control::LatController::matrix_a_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_a_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:168</div></div>
<div class="ttc" id="classapollo_1_1common_1_1math_1_1Vec2d_html"><div class="ttname"><a href="classapollo_1_1common_1_1math_1_1Vec2d.html">apollo::common::math::Vec2d</a></div><div class="ttdoc">Implements a class of 2-dimensional vectors. </div><div class="ttdef"><b>Definition:</b> vec2d.h:43</div></div>
<div class="ttc" id="classapollo_1_1control_1_1TrajectoryAnalyzer_html"><div class="ttname"><a href="classapollo_1_1control_1_1TrajectoryAnalyzer.html">apollo::control::TrajectoryAnalyzer</a></div><div class="ttdoc">process point query and conversion related to trajectory </div><div class="ttdef"><b>Definition:</b> trajectory_analyzer.h:43</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a4e35396bbf40a0165ae7c0e6cbc3d8d1"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a4e35396bbf40a0165ae7c0e6cbc3d8d1">apollo::control::LatController::lr_</a></div><div class="ttdeci">double lr_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:151</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a5a2e3640705d0462a234d16b58eb03b6"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a5a2e3640705d0462a234d16b58eb03b6">apollo::control::LatController::GetLateralError</a></div><div class="ttdeci">double GetLateralError(const common::math::Vec2d &amp;point, apollo::common::TrajectoryPoint *trajectory_point) const</div></div>
<div class="ttc" id="digital__filter_8h_html"><div class="ttname"><a href="digital__filter_8h.html">digital_filter.h</a></div><div class="ttdoc">Defines the DigitalFilter class. </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a66d11c50e7ef24f675917a3ecf03cc65"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a66d11c50e7ef24f675917a3ecf03cc65">apollo::control::LatController::ProcessLogs</a></div><div class="ttdeci">void ProcessLogs(const SimpleLateralDebug *debug, const canbus::Chassis *chassis)</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a75128c22c549723e3535f08b314affd8"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a75128c22c549723e3535f08b314affd8">apollo::control::LatController::matrix_ad_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_ad_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:170</div></div>
<div class="ttc" id="controller_8h_html"><div class="ttname"><a href="controller_8h.html">controller.h</a></div><div class="ttdoc">Defines the Controller base class. </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a9efb297d86397caf858507489f7cc3e9"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a9efb297d86397caf858507489f7cc3e9">apollo::control::LatController::mass_</a></div><div class="ttdeci">double mass_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:147</div></div>
<div class="ttc" id="digital__filter__coefficients_8h_html"><div class="ttname"><a href="digital__filter__coefficients_8h.html">digital_filter_coefficients.h</a></div><div class="ttdoc">Functions to generate coefficients for digital filter. </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_af4adece90f049f09ec18783b6a63d503"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#af4adece90f049f09ec18783b6a63d503">apollo::control::LatController::digital_filter_</a></div><div class="ttdeci">DigitalFilter digital_filter_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:217</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_af2d561cb9c7cabc9d423c196fd4926e4"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#af2d561cb9c7cabc9d423c196fd4926e4">apollo::control::LatController::matrix_bd_</a></div><div class="ttdeci">Eigen::MatrixXd matrix_bd_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:176</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ac7f6ad5f572edda7f24cf9d6cb155653"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ac7f6ad5f572edda7f24cf9d6cb155653">apollo::control::LatController::LoadLatGainScheduler</a></div><div class="ttdeci">void LoadLatGainScheduler(const LatControllerConf &amp;lat_controller_conf)</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_ae9efb62a80a365df6aed4f32989d641c"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#ae9efb62a80a365df6aed4f32989d641c">apollo::control::LatController::InitializeFilters</a></div><div class="ttdeci">void InitializeFilters(const ControlConf *control_conf)</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_aa84a9b488172d22c7ea1f379f1d21947"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#aa84a9b488172d22c7ea1f379f1d21947">apollo::control::LatController::LatController</a></div><div class="ttdeci">LatController()</div><div class="ttdoc">constructor </div></div>
<div class="ttc" id="classapollo_1_1common_1_1Status_html"><div class="ttname"><a href="classapollo_1_1common_1_1Status.html">apollo::common::Status</a></div><div class="ttdoc">A general class to denote the return status of an API call. It can either be an OK status for success...</div><div class="ttdef"><b>Definition:</b> status.h:43</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a6a5c724cabee0dc12e448ba0a2b3868b"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a6a5c724cabee0dc12e448ba0a2b3868b">apollo::control::LatController::previous_heading_error_</a></div><div class="ttdeci">double previous_heading_error_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:203</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a9cf9e94573ba2cd5bfdecc4ad843341a"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a9cf9e94573ba2cd5bfdecc4ad843341a">apollo::control::LatController::~LatController</a></div><div class="ttdeci">virtual ~LatController()</div><div class="ttdoc">destructor </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a93fdf2331e1d02c28694759cdba31c9f"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a93fdf2331e1d02c28694759cdba31c9f">apollo::control::LatController::Init</a></div><div class="ttdeci">common::Status Init(const ControlConf *control_conf) override</div><div class="ttdoc">initialize Lateral Controller </div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a8fb953a38bf1bef7d597a1e71c4f8164"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a8fb953a38bf1bef7d597a1e71c4f8164">apollo::control::LatController::wheelbase_</a></div><div class="ttdeci">double wheelbase_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:145</div></div>
<div class="ttc" id="interpolation__1d_8h_html"><div class="ttname"><a href="interpolation__1d_8h.html">interpolation_1d.h</a></div></div>
<div class="ttc" id="classapollo_1_1control_1_1DigitalFilter_html"><div class="ttname"><a href="classapollo_1_1control_1_1DigitalFilter.html">apollo::control::DigitalFilter</a></div><div class="ttdoc">The DigitalFilter class is used to pass signals with a frequency lower than a certain cutoff frequenc...</div><div class="ttdef"><b>Definition:</b> digital_filter.h:41</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_abcb99624a7182eaec92d5a36b8cbdc79"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#abcb99624a7182eaec92d5a36b8cbdc79">apollo::control::LatController::max_lat_acc_</a></div><div class="ttdeci">double max_lat_acc_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:160</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_a9b5e9e38bb1f4b0e0d0674bba7111502"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#a9b5e9e38bb1f4b0e0d0674bba7111502">apollo::control::LatController::UpdateStateAnalyticalMatching</a></div><div class="ttdeci">void UpdateStateAnalyticalMatching(SimpleLateralDebug *debug)</div></div>
<div class="ttc" id="classapollo_1_1control_1_1LatController_html_aca7312b041a5601393a8ae48bd7fbe81"><div class="ttname"><a href="classapollo_1_1control_1_1LatController.html#aca7312b041a5601393a8ae48bd7fbe81">apollo::control::LatController::ts_</a></div><div class="ttdeci">double ts_</div><div class="ttdef"><b>Definition:</b> lat_controller.h:139</div></div>
<div class="ttc" id="trajectory__analyzer_8h_html"><div class="ttname"><a href="trajectory__analyzer_8h.html">trajectory_analyzer.h</a></div><div class="ttdoc">Defines the TrajectoryAnalyzer class. </div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
