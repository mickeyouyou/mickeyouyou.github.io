<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Apollo: apollo::perception::HdmapROIFilter Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Apollo
   </div>
   <div id="projectbrief">Open source self driving car software</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>apollo</b></li><li class="navelem"><a class="el" href="namespaceapollo_1_1perception.html">perception</a></li><li class="navelem"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html">HdmapROIFilter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classapollo_1_1perception_1_1HdmapROIFilter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">apollo::perception::HdmapROIFilter Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This is ROI(Region of Interest) Filter based on HD map, which can figure out which point is in the regions what we focus on(Almost in the road). This is an optional process, the most advantage of ROI filter is to filter out some points to reduce calculation in the following process.  
 <a href="classapollo_1_1perception_1_1HdmapROIFilter.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="hdmap__roi__filter_8h_source.html">hdmap_roi_filter.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for apollo::perception::HdmapROIFilter:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classapollo_1_1perception_1_1HdmapROIFilter.png" usemap="#apollo::perception::HdmapROIFilter_map" alt=""/>
  <map id="apollo::perception::HdmapROIFilter_map" name="apollo::perception::HdmapROIFilter_map">
<area href="classapollo_1_1perception_1_1BaseROIFilter.html" alt="apollo::perception::BaseROIFilter" shape="rect" coords="0,0,207,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a76316a4c9f4aebd311cdaafb897cdfb4"><td class="memItemLeft" align="right" valign="top"><a id="a76316a4c9f4aebd311cdaafb897cdfb4"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>Init</b> () override</td></tr>
<tr class="separator:a76316a4c9f4aebd311cdaafb897cdfb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f9af9b27e330a61ed4c31219d6e4840"><td class="memItemLeft" align="right" valign="top"><a id="a7f9af9b27e330a61ed4c31219d6e4840"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>name</b> () const</td></tr>
<tr class="separator:a7f9af9b27e330a61ed4c31219d6e4840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae668f193ecf193e9ca2febc3a3ceea04"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#ae668f193ecf193e9ca2febc3a3ceea04">Filter</a> (const pcl_util::PointCloudPtr &amp;cloud, const <a class="el" href="structapollo_1_1perception_1_1ROIFilterOptions.html">ROIFilterOptions</a> &amp;roi_filter_options, pcl_util::PointIndices *roi_indices) override</td></tr>
<tr class="separator:ae668f193ecf193e9ca2febc3a3ceea04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae8acb4591032908dd1372c29accea7ca"><td class="memItemLeft" align="right" valign="top"><a id="ae8acb4591032908dd1372c29accea7ca"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#ae8acb4591032908dd1372c29accea7ca">FilterWithPolygonMask</a> (const pcl_util::PointCloudPtr &amp;cloud, const std::vector&lt; PolygonType &gt; &amp;map_polygons, pcl_util::PointIndices *roi_indices)</td></tr>
<tr class="memdesc:ae8acb4591032908dd1372c29accea7ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Draw polygons into grids in bitmap and check each point whether is in the grids within ROI. <br /></td></tr>
<tr class="separator:ae8acb4591032908dd1372c29accea7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cdd56b7289912f2f4fad906b14e2efe"><td class="memItemLeft" align="right" valign="top"><a id="a0cdd56b7289912f2f4fad906b14e2efe"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a0cdd56b7289912f2f4fad906b14e2efe">TransformFrame</a> (const pcl_util::PointCloudConstPtr &amp;cloud, const Eigen::Affine3d &amp;vel_pose, const std::vector&lt; PolygonDType &gt; &amp;polygons_world, std::vector&lt; PolygonType &gt; *polygons_local, pcl_util::PointCloudPtr cloud_local)</td></tr>
<tr class="memdesc:a0cdd56b7289912f2f4fad906b14e2efe"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Transform polygon points and cloud points from world coordinates system to local. <br /></td></tr>
<tr class="separator:a0cdd56b7289912f2f4fad906b14e2efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9391fd5aaa11b5c8335cad3c615600"><td class="memItemLeft" align="right" valign="top"><a id="ada9391fd5aaa11b5c8335cad3c615600"></a>
MajorDirection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#ada9391fd5aaa11b5c8335cad3c615600">GetMajorDirection</a> (const std::vector&lt; PolygonType &gt; &amp;map_polygons, std::vector&lt; PolygonScanConverter::Polygon &gt; *polygons)</td></tr>
<tr class="memdesc:ada9391fd5aaa11b5c8335cad3c615600"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Get major direction. Transform polygons type to what we want. <br /></td></tr>
<tr class="separator:ada9391fd5aaa11b5c8335cad3c615600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e9ecc1fadcb3f6d62c1c15d57a33270"><td class="memItemLeft" align="right" valign="top"><a id="a1e9ecc1fadcb3f6d62c1c15d57a33270"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a1e9ecc1fadcb3f6d62c1c15d57a33270">MergeRoadBoundariesToPolygons</a> (const std::vector&lt; <a class="el" href="structapollo_1_1perception_1_1RoadBoundary.html">RoadBoundary</a> &gt; &amp;road_boundaries, std::vector&lt; PolygonDType &gt; *polygons)</td></tr>
<tr class="memdesc:a1e9ecc1fadcb3f6d62c1c15d57a33270"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Merge left boundary and right boundary of each road into polygon type. <br /></td></tr>
<tr class="separator:a1e9ecc1fadcb3f6d62c1c15d57a33270"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc3b1cb31d9e5ea986e94e27303206b"><td class="memItemLeft" align="right" valign="top"><a id="aedc3b1cb31d9e5ea986e94e27303206b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#aedc3b1cb31d9e5ea986e94e27303206b">MergeHdmapStructToPolygons</a> (const HdmapStructConstPtr &amp;hdmap_struct_ptr, std::vector&lt; PolygonDType &gt; *polygons)</td></tr>
<tr class="memdesc:aedc3b1cb31d9e5ea986e94e27303206b"><td class="mdescLeft">&#160;</td><td class="mdescRight">: Merge junction polygons and road boundaries in a vector. <br /></td></tr>
<tr class="separator:aedc3b1cb31d9e5ea986e94e27303206b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a0181f620e0e7af6b12fb52d5d2528"><td class="memItemLeft" align="right" valign="top"><a id="a96a0181f620e0e7af6b12fb52d5d2528"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapollo_1_1perception_1_1HdmapROIFilter.html#a96a0181f620e0e7af6b12fb52d5d2528">Bitmap2dFilter</a> (const pcl::PointCloud&lt; <a class="el" href="structapollo_1_1perception_1_1pcl__util_1_1PointXYZIH.html">pcl_util::Point</a> &gt;::ConstPtr in_cloud_ptr, const <a class="el" href="classapollo_1_1perception_1_1Bitmap2D.html">Bitmap2D</a> &amp;bitmap, pcl_util::PointIndices *roi_indices_ptr)</td></tr>
<tr class="memdesc:a96a0181f620e0e7af6b12fb52d5d2528"><td class="mdescLeft">&#160;</td><td class="mdescRight">: After drawing polygons into grids in bitmap. We check each point whether is in the grids within ROI. <br /></td></tr>
<tr class="separator:a96a0181f620e0e7af6b12fb52d5d2528"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a61a82f29ff8cd8ebd819b4e52683f156"><td class="memItemLeft" align="right" valign="top"><a id="a61a82f29ff8cd8ebd819b4e52683f156"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>range_</b></td></tr>
<tr class="separator:a61a82f29ff8cd8ebd819b4e52683f156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9909320429a7b58bfc792aa79a1e234"><td class="memItemLeft" align="right" valign="top"><a id="ad9909320429a7b58bfc792aa79a1e234"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>cell_size_</b></td></tr>
<tr class="separator:ad9909320429a7b58bfc792aa79a1e234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a915043a9fff5d6843a32226dea6a212e"><td class="memItemLeft" align="right" valign="top"><a id="a915043a9fff5d6843a32226dea6a212e"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>extend_dist_</b></td></tr>
<tr class="separator:a915043a9fff5d6843a32226dea6a212e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is ROI(Region of Interest) Filter based on HD map, which can figure out which point is in the regions what we focus on(Almost in the road). This is an optional process, the most advantage of ROI filter is to filter out some points to reduce calculation in the following process. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae668f193ecf193e9ca2febc3a3ceea04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae668f193ecf193e9ca2febc3a3ceea04">&#9670;&nbsp;</a></span>Filter()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool apollo::perception::HdmapROIFilter::Filter </td>
          <td>(</td>
          <td class="paramtype">const pcl_util::PointCloudPtr &amp;&#160;</td>
          <td class="paramname"><em>cloud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structapollo_1_1perception_1_1ROIFilterOptions.html">ROIFilterOptions</a> &amp;&#160;</td>
          <td class="paramname"><em>roi_filter_options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">pcl_util::PointIndices *&#160;</td>
          <td class="paramname"><em>roi_indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>[In] cloud: All the cloud points with local coordinates [In] roi_filter_options: Type definition in "../../interface/base_roi_filter.h". Contains the information of ROI and world to local coordinates transformation matrix. [Out] roi_indices: The indices of points within ROI </p><dl class="section return"><dt>Returns</dt><dd>true if filter points successfully, otherwise return false </dd></dl>

<p>Implements <a class="el" href="classapollo_1_1perception_1_1BaseROIFilter.html">apollo::perception::BaseROIFilter</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>modules/perception/obstacle/lidar/roi_filter/hdmap_roi_filter/<a class="el" href="hdmap__roi__filter_8h_source.html">hdmap_roi_filter.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
