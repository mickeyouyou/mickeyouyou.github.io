<html>
<head>
	
	<!-- hexo-inject:begin --><!-- hexo-inject:end --><title>Apollo 1.5 硬件安装指南</title>
	<meta name="keywords" content="fzb.me,冯宗宝,冯宗宝的blog" />

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    
	   <link href="/css/main.css?v=3.2" rel="stylesheet" type="text/css" />
    
        <script src="/js/util.js" type="text/javascript"></script>
        <script>
            if(isMobile()) {
                loadjscssfile('../css/mobile.css', 'css');
            } else {
                loadjscssfile('../css/desktop.css', 'css');
            }
        </script> 
    

    <link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Atom feed">

    
	<link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=3.2"/><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

</head>

<body>


<!-- hexo-inject:begin --><!-- hexo-inject:end --><h2 class="title">Apollo 1.5 硬件安装指南</h2>
<!---
<div style="text-align:center;margin-top: -10px;">
<div class="article-category">
发表于2017年9月21日




 </div>
--->
</div>

<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#关于本指南"><span class="toc-text">关于本指南</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#文档约定"><span class="toc-text">文档约定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#引言"><span class="toc-text">引言</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#文档"><span class="toc-text">文档</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关键硬件"><span class="toc-text">关键硬件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#附加组件"><span class="toc-text">附加组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#车载计算机系统，IPC"><span class="toc-text">车载计算机系统，IPC</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#IPC的配置"><span class="toc-text">IPC的配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IPC前后视图"><span class="toc-text">IPC前后视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CAN-卡"><span class="toc-text">CAN 卡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GPS与IMU"><span class="toc-text">GPS与IMU</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#NovAtel-SPAN-IGM-A1"><span class="toc-text">NovAtel SPAN-IGM-A1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#NovAtel-SPAN-ProPak6-and-NovAtel-IMU-IGM-A1"><span class="toc-text">NovAtel SPAN ProPak6 and NovAtel IMU-IGM-A1</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GPS天线、接收器"><span class="toc-text">GPS天线、接收器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#激光雷达"><span class="toc-text">激光雷达</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装任务概览"><span class="toc-text">安装任务概览</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#安装任务步骤"><span class="toc-text">安装任务步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#室内"><span class="toc-text">室内</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#准备IPC"><span class="toc-text">准备IPC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#为IPC安装软件"><span class="toc-text">为IPC安装软件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#安装Ubuntu-Linux"><span class="toc-text">安装Ubuntu Linux</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安装Apollo内核"><span class="toc-text">安装Apollo内核</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#使用预编译的-Apollo-内核"><span class="toc-text">使用预编译的 Apollo 内核</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#构建你自己的内核"><span class="toc-text">构建你自己的内核</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安装-Nvidia-GPU-驱动"><span class="toc-text">安装 Nvidia GPU 驱动</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#可选项-测试ESD-CAN硬件节点"><span class="toc-text">可选项: 测试ESD CAN硬件节点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#车辆"><span class="toc-text">车辆</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#先决条件"><span class="toc-text">先决条件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#主要组件安装视图"><span class="toc-text">主要组件安装视图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安装GPS接收器与天线"><span class="toc-text">安装GPS接收器与天线</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#可选1：安装NovAtel-SPAN-IGM-A1"><span class="toc-text">可选1：安装NovAtel SPAN-IGM-A1</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Taking-the-Lever-Arm-Measurement"><span class="toc-text">Taking the Lever Arm Measurement</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#可选2：NovAtel-SPAN®-ProPak6™-and-NovAtel-IMU-IGM-A1"><span class="toc-text">可选2：NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#安装IPC"><span class="toc-text">安装IPC</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#配置GPS、IMU"><span class="toc-text">配置GPS、IMU</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#建立网络"><span class="toc-text">建立网络</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#推荐配置"><span class="toc-text">推荐配置</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#额外任务"><span class="toc-text">额外任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#下一步"><span class="toc-text">下一步</span></a></li></ol></li></ol></li></ol>
<h1 id="关于本指南"><a href="#关于本指南" class="headerlink" title="关于本指南"></a>关于本指南</h1><p><em>Apollo1.5硬件与系统安装指南</em> 详细介绍了Apollo计划的硬件组件、系统软件安装，安装过程包含下载和安装Apollo Linux内核。</p>
<p>相比1.0的版本，1.5版本的参考硬件中，主要有以下区别：</p>
<ul>
<li>IPC使用了另外一个型号 6108GC代替5095GC；</li>
<li>增加了激光雷达传感器，用以实现障碍物感知；</li>
</ul>
<h2 id="文档约定"><a href="#文档约定" class="headerlink" title="文档约定"></a>文档约定</h2><p>本文档使用约定如下表：</p>
<table>
<thead>
<tr>
<th><strong>图标</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>粗体</strong></td>
<td>重点强调</td>
</tr>
<tr>
<td><code>等宽字体</code></td>
<td>代码，类型数据</td>
</tr>
<tr>
<td><em>斜体</em></td>
<td>文件，部分和标题的标题使用的术语</td>
</tr>
<tr>
<td><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/info_icon.png" alt="info"></td>
<td><strong>Info</strong>  包含可能有用的信息。忽略信息图标没有消极的后果。</td>
</tr>
<tr>
<td><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/tip_icon.png" alt="tip"></td>
<td><strong>Tip</strong>. 包括有用的提示或可能有助于完成任务的快捷方式。</td>
</tr>
<tr>
<td><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/online_icon.png" alt="online"></td>
<td><strong>Online</strong>. 提供指向特定网站的链接，您可以在其中获取更多信息。</td>
</tr>
<tr>
<td><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/warning_icon.png" alt="warning"></td>
<td><strong>Warning</strong>. 包含<strong>不能忽略</strong>的信息，或者执行某个任务或步骤时，您将面临风险。</td>
</tr>
</tbody>
</table>
<h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>阿波罗计划是为汽车和自主驾驶行业的合作伙伴提供开放，完整和可靠的软件平台。该项目的目的是使合作伙伴能够基于Apollo软件堆栈开发自己的自动驾驶系统。</p>
<h3 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h3><p>车辆：</p>
<ul>
<li>工业计算机</li>
<li>GPS</li>
<li>IMU</li>
<li>CAN 卡</li>
<li>硬盘</li>
<li>GPS 天线</li>
<li>GPS 接收器</li>
<li>激光雷达</li>
</ul>
<p>软件：</p>
<ul>
<li>Ubuntu Linux 操作系统</li>
<li>Apollo Linux 内核</li>
<li>Nvidia GPU 驱动</li>
</ul>
<h2 id="关键硬件"><a href="#关键硬件" class="headerlink" title="关键硬件"></a>关键硬件</h2><p>需要安装的关键的硬件组件包括：</p>
<ul>
<li>车载计算机系统，Neousys Nuvo-6108GC</li>
<li>CAN 卡 ESD CAN-PCIe/402-1</li>
<li>GPS IMU，可以从下面选择其一：<ul>
<li>NovAtel SPN-IGM-A1</li>
<li>NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1</li>
</ul>
</li>
<li>激光雷达，Velodyne HDL-64E S3</li>
</ul>
<h3 id="附加组件"><a href="#附加组件" class="headerlink" title="附加组件"></a>附加组件</h3><ul>
<li>提供网络接入的4G路由器</li>
<li>调试使用的显示器，键盘，鼠标</li>
<li>连接线：VGA连接线，DVI连接线</li>
<li>苹果iPad Pro:9.7寸</li>
</ul>
<p>关键硬件组件的特性将在后续部分中介绍。</p>
<h3 id="车载计算机系统，IPC"><a href="#车载计算机系统，IPC" class="headerlink" title="车载计算机系统，IPC"></a>车载计算机系统，IPC</h3><p>车载计算机系统是用于自动驾驶车辆的工业PC（IPC），并使用由第六代Intel Xeon E3 1275 V5 CPU强力驱动的NeousysNuvo-6108GC。</p>
<p>Neousys Nuvo-6108GC是自动驾驶系统（ADS）的中心单元。</p>
<h4 id="IPC的配置"><a href="#IPC的配置" class="headerlink" title="IPC的配置"></a>IPC的配置</h4><p>IPC配置如下：</p>
<ul>
<li>ASUS GTX1080 GPU-A8G-Gaming GPU Card</li>
<li>32GB DDR4 RAM</li>
<li>PO-280W-OW 280W 交流、直流电源适配器</li>
<li>2.5” SATA Hard Disk 1TB 7200rpm</li>
</ul>
<h4 id="IPC前后视图"><a href="#IPC前后视图" class="headerlink" title="IPC前后视图"></a>IPC前后视图</h4><p>Nuvo-6108GC前视图：<br><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/IPC-6108GC-front-side.jpg" width="90%"></p>
<p>Nuvo-6108GC后视图：<br><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/IPC-6108GC-left-side.jpg" width="90%"></p>
<p> <img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/online_icon.png" alt="online">中文介绍：<a href="http://www.neousys-tech.com/cn/product/application/rugged-embedded/nuvo-6108gc-gpu-computing" target="_blank" rel="external">http://www.neousys-tech.com/cn/product/application/rugged-embedded/nuvo-6108gc-gpu-computing</a></p>
<p>Neousys Nuvo-6108GC 手册：还不可用。</p>
<h4 id="CAN-卡"><a href="#CAN-卡" class="headerlink" title="CAN 卡"></a>CAN 卡</h4><p>IPC中使用的CAN卡型号为ESD CAN-PCIe/402。<br><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/can_card.png" width="50%"></p>
<p> <img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/online_icon.png" alt="online">产品主页：<a href="https://esd.eu/en/products/can-pcie402" target="_blank" rel="external">https://esd.eu/en/products/can-pcie402</a></p>
<h4 id="GPS与IMU"><a href="#GPS与IMU" class="headerlink" title="GPS与IMU"></a>GPS与IMU</h4><p>对于GPS-IMU，有两个选择，取决于满足你的需求：</p>
<ul>
<li>可选项1：NovAtel SPAN-IGM-A1</li>
<li>可选项2：NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1</li>
</ul>
<h5 id="NovAtel-SPAN-IGM-A1"><a href="#NovAtel-SPAN-IGM-A1" class="headerlink" title="NovAtel SPAN-IGM-A1"></a>NovAtel SPAN-IGM-A1</h5><p>NovAtel SPAN-IGM-A1是一个集成的，单盒的解决方案，提供紧密耦合的全球导航卫星系统（GNSS）定位和具有NovAtel OEM615接收机的惯性导航功能。<br><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/Novatel_imu.png" width="60%"></p>
<p> <img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/online_icon.png" alt="online"> 产品主页：<br><a href="https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/" target="_blank" rel="external">https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/</a></p>
<h5 id="NovAtel-SPAN-ProPak6-and-NovAtel-IMU-IGM-A1"><a href="#NovAtel-SPAN-ProPak6-and-NovAtel-IMU-IGM-A1" class="headerlink" title="NovAtel SPAN ProPak6 and NovAtel IMU-IGM-A1"></a>NovAtel SPAN ProPak6 and NovAtel IMU-IGM-A1</h5><p>NovAtel ProPak6是独立的GNSS接收机，它与NovAtel提供的独立IMU（本例中为NovAtel IMU-IGM-A1）相融合以提供定位。</p>
<p>ProPak6提供由NovAtel生产的最新最先进的外壳产品。</p>
<p>IMU-IGM-A1是与支持SPAN的GNSS接收器（如SPAN ProPak6）配对的IMU。<br><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/Novatel_pp6.png" width="60%"></p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/online_icon.png" alt="online"> NovAtel ProPak6 安装与操作手册:</p>
<p><a href="https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf" target="_blank" rel="external">https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf</a></p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/online_icon.png" alt="online">onlineNovAtel IMU-IGM-A1 产品主页:</p>
<p><a href="https://www.novatel.com/products/span-gnss-inertial-systems/span-imus/span-mems-imus/imu-igm-a1/#overview" target="_blank" rel="external">https://www.novatel.com/products/span-gnss-inertial-systems/span-imus/span-mems-imus/imu-igm-a1/#overview</a></p>
<h4 id="GPS天线、接收器"><a href="#GPS天线、接收器" class="headerlink" title="GPS天线、接收器"></a>GPS天线、接收器</h4><p>GPS-IMU组件的GPS接收器、天线使用的是NovAtel GPS-703-GGG-HV。</p>
<p><strong>注意</strong>：GPS NovAtelGPS-703-GGG-HV与上文中提到的两个GPS-IMU选项的任一型号配合使用。<br><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/gps_receiver.png" width="60%"></p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/online_icon.png" alt="online"> NovAtel GPS-703-GGG-HV 产品主页:</p>
<p><a href="https://www.novatel.com/products/gnss-antennas/high-performance-gnss-antennas/gps-703-ggg-hv/" target="_blank" rel="external">https://www.novatel.com/products/gnss-antennas/high-performance-gnss-antennas/gps-703-ggg-hv/</a></p>
<h4 id="激光雷达"><a href="#激光雷达" class="headerlink" title="激光雷达"></a>激光雷达</h4><p>使用来自Velodyne激光雷达公司的64线激光雷达系统HDL-64E S3。<br><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/lidar_pic.png" width="90%"></p>
<p>主要特点:</p>
<ul>
<li>64 Channels</li>
<li>120m range</li>
<li>2.2 Million Points per Second</li>
<li>360° Horizontal FOV</li>
<li>26.9° Vertical FOV</li>
<li>0.08° angular resolution (azimuth)</li>
<li>&lt;2cm accuracy</li>
<li>~0.4° Vertical Resolution</li>
<li>User selectable frame rate</li>
<li>Rugged Design</li>
</ul>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/online_icon.png" alt="online"> Velodyne HDL-64E S3介绍: <a href="http://velodynelidar.com/hdl-64e.html" target="_blank" rel="external">http://velodynelidar.com/hdl-64e.html</a></p>
<h2 id="安装任务概览"><a href="#安装任务概览" class="headerlink" title="安装任务概览"></a>安装任务概览</h2><p>安装硬件和软件组件涉及以下任务：<br><strong>室内：</strong></p>
<ol>
<li>准备IPC：<ul>
<li>检查图形处理单元（GPU）磁带，以确定是否需要卸下GPU卡（如果已预安装）</li>
<li>在将卡插入插槽之前，首先重新定位CAN卡端接跳线，准备并安装控制器局域网（CAN）卡。</li>
</ul>
</li>
<li>IPC（如果未预装）安装硬盘，推荐安装固态硬盘；<br> 如果你愿意，也可以更换预装的硬盘；<br><strong>推荐</strong>：<ul>
<li>为了更好的可靠性，安装固态硬盘；</li>
<li>如果需要收集驾驶数据，需要使用大容量硬盘；</li>
</ul>
</li>
<li>准备IPC加电：<ul>
<li>将电源线连接到电源连接器（接线端子）</li>
<li>将显示器，以太网，键盘和鼠标连接到IPC</li>
<li>将IPC连接到电源</li>
</ul>
</li>
<li>在IPC安装软件（需要部分Linux经验）：<ul>
<li>安装Ubuntu</li>
<li>安装Apollo Linux内核</li>
</ul>
</li>
</ol>
<p><strong>车辆：</strong></p>
<ul>
<li>确保所有在前提条件中列出的对车辆的修改，都已执行。</li>
<li>安装主要的组件：<ul>
<li>GPS 天线</li>
<li>IPC</li>
<li>GPS接收器</li>
</ul>
</li>
</ul>
<p>安装所有硬件和软件组件的实际步骤详见安装任务步骤。</p>
<h2 id="安装任务步骤"><a href="#安装任务步骤" class="headerlink" title="安装任务步骤"></a>安装任务步骤</h2><p>该部分包含：</p>
<ul>
<li>关键组件的安装</li>
<li>车辆硬件的安装</li>
</ul>
<h3 id="室内"><a href="#室内" class="headerlink" title="室内"></a>室内</h3><ul>
<li>准备IPC：<ul>
<li>安装CAN卡</li>
<li>安装或者替换硬盘</li>
<li>准备为IPC供电</li>
</ul>
</li>
<li>为IPC安装软件：<ul>
<li>Ubuntu Linux</li>
<li>Apollo内核</li>
<li>Nvidia GPU Driver</li>
</ul>
</li>
</ul>
<h4 id="准备IPC"><a href="#准备IPC" class="headerlink" title="准备IPC"></a>准备IPC</h4><p>有如下步骤：</p>
<ol>
<li>准备安装CAN卡：在Neousys Nuvo-6108GC中，ASUS®GTX-1080GPU-A8G-GAMING GPU卡预先安装占用了一个PCI插槽，将CAN卡安装到剩余两个PCI插槽其一即可。</li>
</ol>
<p>a. 找到并拧下计算机侧面的八个螺丝（棕色方块所示或棕色箭头指示）:</p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/IPC-6108GC-Screw-Positions_labeled.png" width="99%"></p>
<p>b. 从IPC上拆下盖子。基座有3个PCI插槽（由显卡占据一个）：</p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/Removing_the_cover.JPG" width="99%"></p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/Before_installing_the_can_card.png" alt="Before installing the CAN card"></p>
<p>c. 通过从其默认位置移除红色跳线帽（以黄色圆圈显示）并将其放置在其终止位置，设置CAN卡端接跳线：</p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/prepare_can_card.png" width="99%"></p>
<p><strong><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/warning_icon.png" alt="warning">WARNING</strong>: 如果端接跳线设置不正确，CAN卡将无法正常工作。</p>
<p>d. 将CAN卡插入IPC的插槽:</p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/After installing the CAN Card.png" alt="installed CAN"></p>
<p>e. 安装IPC盖子：</p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/IPC-6108GC-Screw-Positions.png" width="99%"></p>
<ol>
<li><p>准备给IPC加电:</p>
<p>a. 将电源线连接到IPC:</p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/warning_icon.png" alt="warning_icon"><strong>注意</strong>: 确保电源电缆的正极（红色标记为<strong>R</strong>）和负极（黑色标记为<strong> B </strong>）导线插入电源端子块上的正确孔中。</p>
</li>
<li><p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/ipc_power_RB.png" alt="ipc_power_RB"></p>
<p>b. 将显示器，网线，键盘和鼠标连接到IPC:</p>
</li>
<li><p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/IPC-6108GC-CableConnected-overexposed.png" alt="IPC-6108GC-CableConnected-overexposed.png"></p>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/tip_icon.png" alt="warning"><br>如果将一个或多个插件卡添加到系统中，建议通过BIOS设置来配置风扇速度</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- &#35745;&#31639;&#26426;&#21551;&#21160;&#65292;&#25353; F2 &#36827;&#20837; BIOS &#35774;&#32622;&#33756;&#21333;&#10;- &#36873;&#25321;[Advanced] =&#62; [Smart Fan Setting]&#10;- &#35774;&#32622; [Fan Max. Trip Temp] &#20026; 50&#10;- &#35774;&#32622; [Fan Start Trip Temp] &#20026; 20</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/tip_icon.png" alt="tip_icon">建议在显卡的图形卡上使用DVI连接器。 要将显示设置为主板上的DVI端口，请执行以下设置步骤：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- &#24320;&#26426;&#25353; F2 &#36827;&#20837; BIOS &#35774;&#32622;&#33756;&#21333;&#10;- &#20381;&#27425;&#36873;&#25321; [Advanced]=&#62;[System Agent (SA) Configuration]=&#62;[Graphics Configuration]=&#62;[Primary Display]=&#62; &#35774;&#32622;&#20026; &#34;PEG&#34;</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/tip_icon.png" alt="tip_icon">建议将IPC配置为始终以最高性能模式运行:<br><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- &#24320;&#26426;&#25353; F2 &#36827;&#20837; BIOS &#35774;&#32622;&#33756;&#21333;&#10;- &#36873;&#25321; [Power] =&#62; [SKU POWER CONFIG] =&#62; &#35774;&#32622;&#20026; &#34;MAX. TDP&#34;</span><br></pre></td></tr></table></figure></p>
<p>c. 连接电源: </p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/IPC-6108GC-PowerCable.JPG" alt="IPC-6108GC-PowerCable.JPG"></p>
<h4 id="为IPC安装软件"><a href="#为IPC安装软件" class="headerlink" title="为IPC安装软件"></a>为IPC安装软件</h4><p>这部分主要描述以下的安装步骤：</p>
<ul>
<li>Ubuntu Linux</li>
<li>Apollo 内核</li>
<li>Nvidia GPU 驱动</li>
</ul>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/tip_icon.png" alt="tip_icon">假设您有使用Linux的经验来成功执行软件安装。</p>
<h5 id="安装Ubuntu-Linux"><a href="#安装Ubuntu-Linux" class="headerlink" title="安装Ubuntu Linux"></a>安装Ubuntu Linux</h5><p>步骤如下：</p>
<ol>
<li>下载Ubuntu（或Xubuntu等变体），并按照在线说明创建可启动的USB闪存驱动器。</li>
</ol>
<blockquote>
<p>推荐使用Ubuntu 14.04.3</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/tip_icon.png" alt="tip_icon">开机按 F2 进入 BIOS 设置菜单，建议禁用BIOS中的快速启动和静默启动，以便捕捉引导启动过程中的问题。</p>
<p>获取更多Ubuntu信息，可访问:<br><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/online_icon.png" alt="online_icon"> Ubuntu 桌面站点:</p>
<p><a href="https://www.ubuntu.com/desktop" target="_blank" rel="external">https://www.ubuntu.com/desktop</a></p>
<ol>
<li><p>安装 Ubuntu Linux:</p>
<p> a. 将Ubuntu安装驱动器插入USB端口并启动IPC。<br> b. 按照屏幕上的说明安装Linux。</p>
</li>
<li><p>执行软件更新与安装:<br> a. 安装完成，重启进入Linux。<br> b. 执行软件更新器（Software Updater）更新最新软件包，或在终端执行以下命令完成更新。</p>
 <figure class="highlight"><table><tr><td class="code"><pre><span class="line">sudo apt-get update; sudo apt-get upgrade</span><br></pre></td></tr></table></figure>
<p> c. 打开终端，输入以下命令，安装Linux 4.4 内核：</p>
</li>
</ol>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">sudo apt-get install linux-generic-lts-xenial</span><br></pre></td></tr></table></figure>
<p><img src="images/tip_icon.png" alt="tip_icon">IPC必须接入网络以便更新与安装软件，所以请确认网线插入并连接，如果连接网络没有使用动态分配（DHCP），需要更改网络配置。</p>
<h4 id="安装Apollo内核"><a href="#安装Apollo内核" class="headerlink" title="安装Apollo内核"></a>安装Apollo内核</h4><p>车上运行Apollo需要<a href="https://github.com/ApolloAuto/apollo-kernel" target="_blank" rel="external">Apollo 内核</a>。强烈建议安装预编译内核。</p>
<h5 id="使用预编译的-Apollo-内核"><a href="#使用预编译的-Apollo-内核" class="headerlink" title="使用预编译的 Apollo 内核"></a>使用预编译的 Apollo 内核</h5><p>你可以依照如下步骤获取、安装预编译的内核。</p>
<ol>
<li>下载发布的最新包<br><a href="https://github.com/ApolloAuto/apollo-kernel/releases" target="_blank" rel="external">https://github.com/ApolloAuto/apollo-kernel/releases</a></li>
<li><p>解压与安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar zxvf linux-<span class="number">4.4</span>.<span class="number">32</span>-apollo-<span class="number">1.0</span>.<span class="number">0</span>.tar.gz</span><br><span class="line"><span class="built_in">cd</span> install</span><br><span class="line">sudo bash install_kernel.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用<code>reboot</code>命令重启系统；</p>
</li>
<li>根据<a href="https://github.com/ApolloAuto/apollo-kernel/blob/master/linux/ESDCAN-README.md" target="_blank" rel="external">ESDCAN-README.md</a>编译ESD CAN驱动器源代码</li>
</ol>
<h5 id="构建你自己的内核"><a href="#构建你自己的内核" class="headerlink" title="构建你自己的内核"></a>构建你自己的内核</h5><p>如果你有修改内核，或者预编译内核不是你的最佳平台，你可以按照如下步骤构建自己的：</p>
<ol>
<li><p>从代码仓库克隆代码</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git clone https://github.com/ApolloAuto/apollo-kernel.git&#10;cd apollo-kernel</span><br></pre></td></tr></table></figure>
</li>
<li><p>根据 <a href="https://github.com/ApolloAuto/apollo-kernel/blob/master/linux/ESDCAN-README.md" target="_blank" rel="external">ESDCAN-README.md</a>添加 ESD CAN 驱动源代码</p>
</li>
<li><p>按照如下指令编译：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">bash build.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用同样的方式安装内核。</p>
</li>
</ol>
<h4 id="安装-Nvidia-GPU-驱动"><a href="#安装-Nvidia-GPU-驱动" class="headerlink" title="安装 Nvidia GPU 驱动"></a>安装 Nvidia GPU 驱动</h4><p>车辆运行Apollo还需要<a href="http://www.nvidia.com/download/driverResults.aspx/114708/en-us" target="_blank" rel="external">Nvidia GPU 驱动</a>。需要安装特定型号的Nvidia GPU 驱动。</p>
<ol>
<li><p>下载安装文件</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget http://us.download.nvidia.com/XFree86/Linux-x86_64/375.39/NVIDIA-Linux-x86_64-375.39.run</span><br></pre></td></tr></table></figure>
</li>
<li><p>开始安装</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo bash ./NVIDIA-Linux-x86_64-375.39.run --no-x-check -a -s</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="可选项-测试ESD-CAN硬件节点"><a href="#可选项-测试ESD-CAN硬件节点" class="headerlink" title="可选项: 测试ESD CAN硬件节点"></a>可选项: 测试ESD CAN硬件节点</h5><p>重启安装新内核的IPC之后：</p>
<p>a. 使用以下指令创建CAN硬件节点：</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">cd /dev; sudo mknod &#8211;-mode=a+rw can0 c 52 0</span><br></pre></td></tr></table></figure>
<p>b. 使用从ESD Electronics获取到得的ESD CAN软件包的一部分的测试程序来测试CAN设备节点。</p>
<p>至此，IPC就可以被装载到车辆上了。</p>
<h3 id="车辆"><a href="#车辆" class="headerlink" title="车辆"></a>车辆</h3><p>执行以下任务：</p>
<ul>
<li>根据先决条件列表中的所述，对车辆进行必要的修改</li>
<li>安装主要的组件：<ul>
<li>GPS 天线</li>
<li>IPC</li>
<li>GPS 接收器</li>
<li>激光雷达</li>
</ul>
</li>
</ul>
<h4 id="先决条件"><a href="#先决条件" class="headerlink" title="先决条件"></a>先决条件</h4><p><strong><img src="images/warning_icon.png" alt="warning_icon">注意</strong>: 在将主要部件（GPS天线，IPC和GPS接收器）安装在车辆之前，必须按照先决条件列表所述执行必要修改。 列表中所述强制性更改的部分，不属于本文档的范围。</p>
<ul>
<li>车辆必须由专业服务公司修改为“线控”技术。 此外，必须在要安装IPC的中继线上提供CAN接口连接。</li>
<li>必须在后备箱中安装电源插板，为IPC和GPS-IMU提供电源。电源插板还需要服务于车上的其他硬件，比如4G的路由器。电源插板应连接到车辆的电源系统。</li>
<li>必须安装定制的机架，将GPS-IMU天线安装在车辆的顶部。</li>
<li>必须安装定制的机架，以便将GPS-IMU安装在后背箱中。</li>
<li>必须将4G LTE路由器安装在后备箱中才能为IPC提供Internet访问。路由器必须具有内置Wi-Fi接入点（AP）功能，以连接到其他设备（如iPad），以与自主驾驶（AD）系统相连接。例如，用户将能够使用移动设备来启动AD模式或监视AD状态。</li>
</ul>
<h4 id="主要组件安装视图"><a href="#主要组件安装视图" class="headerlink" title="主要组件安装视图"></a>主要组件安装视图</h4><p>以下两图显示车辆上应安装三个主要组件（GPS天线，IPC，GPS接收机和LiDAR）的位置：<br>示例图：</p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/Car_Sideview.png" width="99%"><br>车辆与后备箱侧视图</p>
<p><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/Car_Rearview.png" width="99%"><br>车辆与后备箱后视图</p>
<h4 id="安装GPS接收器与天线"><a href="#安装GPS接收器与天线" class="headerlink" title="安装GPS接收器与天线"></a>安装GPS接收器与天线</h4><p>以下组件<strong>二选一</strong>：</p>
<ul>
<li><strong>可选1 :</strong> GPS-IMU: <strong>NovAtel SPAN-IGM-A1</strong></li>
<li><strong>可选2 :</strong> GPS-IMU: <strong>NovAtel SPAN® ProPak6™ 和 NovAtel IMU-IGM-A1</strong></li>
</ul>
<h5 id="可选1：安装NovAtel-SPAN-IGM-A1"><a href="#可选1：安装NovAtel-SPAN-IGM-A1" class="headerlink" title="可选1：安装NovAtel SPAN-IGM-A1"></a>可选1：安装NovAtel SPAN-IGM-A1</h5><p>安装说明描述了安装，连接和采取GPS-IMU NovAtel SPAN-IGM-A1的杠杆臂测量的过程。<br><strong>安装</strong><br>您可以将GPS-IMU NovAtel SPAN-IGM-A1放置在车辆的大部分地方，但建议您遵循以下建议：</p>
<ul>
<li>将NovAtel SPAN-IGM-A1放置并固定在行李箱内，Y轴指向前方。</li>
<li>将NovAtel GPS-703-GGG-HV天线安装在位于车辆顶部的视野范围内。</li>
</ul>
<p><strong>接线</strong></p>
<p>You must connect two cables:</p>
<ul>
<li>The antenna cable ─ Connects the GNSS antenna to the antenna port of the SPAN-IGM-A1</li>
<li>The main cable:<ul>
<li>Connects its 15-pin end to the SPAN-IGM-A1</li>
<li>Connects its power wires to a power supply of 10-to-30V DC</li>
<li>Connects its serial port to the IPC. If the power comes from a vehicle battery, add an auxiliary battery (recommended).</li>
</ul>
</li>
</ul>
<p><img src="images/imu_main_cable_connection.png" alt="imu_main_cable_connection"></p>
<p>Main Cable Connections</p>
<p>For more information, see the <em>SPAN-IGM™ Quick Start Guide</em>, page 3, for a detailed diagram:</p>
<p><img src="images/online_icon.png" alt="online_icon">SPAN-IGM™ Quick Start Guide</p>
<p><a href="http://www.novatel.com/assets/Documents/Manuals/GM-14915114.pdf" target="_blank" rel="external">http://www.novatel.com/assets/Documents/Manuals/GM-14915114.pdf</a></p>
<h5 id="Taking-the-Lever-Arm-Measurement"><a href="#Taking-the-Lever-Arm-Measurement" class="headerlink" title="Taking the Lever Arm Measurement"></a>Taking the Lever Arm Measurement</h5><p>When the SPAN-IGM-A1 and the GPS Antenna are in position,the distance from the SPAN-IGM-A1 to the GPS Antenna must be measured. The distance should be measured as: X offset, Y offset, and Z offset.</p>
<p>The error of offset must be within one centimeter to achieve high accuracy. For more information, see the <em>SPAN-IGM™ Quick Start Guide</em>, page 5, for a detailed diagram.</p>
<p>For an additional information about the SPAN-IGM-A1, see:</p>
<p><img src="images/online_icon.png" alt="online_icon">SPAN-IGM™ User Manual:</p>
<p><a href="http://www.novatel.com/assets/Documents/Manuals/OM-20000141.pdf" target="_blank" rel="external">http://www.novatel.com/assets/Documents/Manuals/OM-20000141.pdf</a></p>
<h5 id="可选2：NovAtel-SPAN®-ProPak6™-and-NovAtel-IMU-IGM-A1"><a href="#可选2：NovAtel-SPAN®-ProPak6™-and-NovAtel-IMU-IGM-A1" class="headerlink" title="可选2：NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1"></a>可选2：NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1</h5><h4 id="安装IPC"><a href="#安装IPC" class="headerlink" title="安装IPC"></a>安装IPC</h4><h4 id="配置GPS、IMU"><a href="#配置GPS、IMU" class="headerlink" title="配置GPS、IMU"></a>配置GPS、IMU</h4><figure class="highlight"><table><tr><td class="code"><pre><span class="line">WIFICONFIGSTATE OFF&#10;UNLOGALLTHISPORT&#10;SETIMUTOANTOFFSET0.00 1.10866 1.14165 0.05 0.05 0.08&#10;SETINSOFFSET0 0 0&#10;LOGCOM2 GPRMC ONTIME 1.0 0.25&#10;EVENTOUTCONTROLMARK2 ENABLE POSITIVE 999999990 10&#10;EVENTOUTCONTROLMARK1 ENABLE POSITIVE 500000000 500000000&#10;LOGNCOM1 GPGGA ONTIME 1.0&#10;&#10;logbestgnssposb ontime 0.5&#10;logbestgnssvelb ontime 0.5&#10;logbestposb ontime 0.5&#10;logINSPVASB ontime 0.01&#10;logCORRIMUDATASB ontime 0.01&#10;logINSCOVSB ontime 1&#10;logmark1pvab onnew&#10;&#10;logimutoantoffsetsb once&#10;logvehiclebodyrotationb onchanged&#10;&#10;SAVECONFIG</span><br></pre></td></tr></table></figure>
<p>对于ProPak6:<br><figure class="highlight"><table><tr><td class="code"><pre><span class="line">WIFICONFIG STATE OFF&#10;CONNECTIMU COM3 IMU_ADIS16488&#10;INSCOMMAND ENABLE&#10;SETIMUORIENTATION 5&#10;ALIGNMENTMODE AUTOMATIC  &#10;SETIMUTOANTOFFSET 0.00 1.10866 1.14165 0.05 0.05 0.08&#10;VEHICLEBODYROTATION 0 0 0&#10; &#10;COM COM1 9600 N 8 1 N OFF OFF&#10;COM COM2 9600 N 8 1 N OFF OFF&#10;INTERFACEMODE COM1 NOVATEL NOVATEL OFF&#10;LOG COM2 GPRMC ONTIME 1 0.25&#10;PPSCONTROL ENABLE POSITIVE 1.0 10000&#10;MARKCONTROL MARK1 ENABLE POSITIVE&#10;EVENTINCONTROL MARK1 ENABLE POSITIVE 0 2&#10; &#10;interfacemode usb2 rtcmv3 none off&#10;rtksource auto any&#10;psrdiffsource auto any&#10; &#10;SAVECONFIG</span><br></pre></td></tr></table></figure></p>
<h3 id="建立网络"><a href="#建立网络" class="headerlink" title="建立网络"></a>建立网络</h3><h4 id="推荐配置"><a href="#推荐配置" class="headerlink" title="推荐配置"></a>推荐配置</h4><p>建议您根据下图设置网络：<br><img src="https://raw.githubusercontent.com/ApolloAuto/apollo/master/docs/quickstart/images/4G-LTE-setup-6108GC.png" width="99%"></p>
<p>步骤如下：</p>
<ul>
<li>安装并配置4G网络，</li>
<li>通过以太网线连接IPC到路由器</li>
<li>配置路由器使用LTE蜂窝网络接入互联网</li>
<li>配置LTE路由器的AP功能，使iPad Pro或其他移动设备可以连接到路由器，然后连接到IPC。</li>
</ul>
<h3 id="额外任务"><a href="#额外任务" class="headerlink" title="额外任务"></a>额外任务</h3><p>您可能需要使用自己提供的组件来执行以下任务：</p>
<ul>
<li>使用DVI或HDMI电缆连接显示器，并连接键盘和鼠标，以便在现场的汽车上执行调试任务。</li>
<li>在Apple iPad Pro上建立Wi-Fi连接，以访问HMI并控制IPC上运行的Apollo ADS。</li>
</ul>
<h3 id="下一步"><a href="#下一步" class="headerlink" title="下一步"></a>下一步</h3><p>完成硬件部分的安装之后，可以参考快速开始的教程，完成软件部分的安装。</p>


<!--<a href="http://yoursite.com/apollo/hardware_system_installation_guide_1.5.html#disqus_thread" class="article-comment-link">Comments</a>
<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mickeyouyou'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
-->
<div style="display:none">
<script src="http://s4.cnzz.com/stat.php?id=1254090228&web_id=1254090228" language="JavaScript"></script>script>
</div><!-- hexo-inject:begin --><!-- hexo-inject:end -->






</body>
</html>